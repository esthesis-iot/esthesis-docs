{"objectID":"_avro_support.html#design","parent":"_avro_support.html#introduction","pageViews":0,"url":"writerside-documentation/avro-support.html#design","mainTitle":"Avro support","product":"","headings":"Avro support,Design","content":"esthesis communicates with external sources using the esthesis Line Protocol (eLP). eLP is a simple protocol, human-readable, which can be manipulated very easily with rudimentary programming effort and resources. It is therefore a convenient protocol for devices with limited resources.\nHowever, being a text-based protocol, it is not the most efficient way to use when data has already arrived at esthesis and needs to be further processed by the various Dataflow components of esthesis Core. For this reason, esthesis CORE supports internally the Avro data serialization.\nHere is how it works:\nflowchart LR\n\tA[External source]\n\tB[esthesis device agent]\n\tD[Dataflow #1]\n\tE[Dataflow #2]\n\tR1[Dataflow receiver]\n\tR2[Dataflow receiver]\n\tK[Kafka]\n\tDT1[Data broker MQTT]\n\tDT2[\"Data broker (any)\"]\n\tP[Data persistence]\n\n\tA -- eLP --\u0026gt; DT2\n\tB -- eLP --\u0026gt; DT1\n\tDT1 -- eLP --\u0026gt; R1\n\tDT2 -- eLP --\u0026gt; R2\n\tsubgraph esthesis CORE\n\t\tR1 --Avro--\u0026gt; K\n\t\tR2 --Avro--\u0026gt; K\n\t\tK --Avro--\u0026gt; D\n\t\tK --Avro--\u0026gt; E\n\t\tD -.-\u0026gt;|Avro| K\n\t\tE -.-\u0026gt;|Avro| K\n\tend\n\tD -.-\u0026gt; P\n\tE -.-\u0026gt; P\nAs depicted above, external data sources send data to a data broker using eLP. The esthesis device agent is using MQTT, however other custom external data sources may choose to use any other protocol, provided a dataflow is available to receive the data.\nOnce the data is received by the dataflow receiver, it is processed using eLP and then converted to Avro. The converter Avro data is then sent to a Kafka topic, where it is available for further processing by other dataflow components.\nIn case a dataflow component needs to put a processed message back to Kafka for another dataflow to pick it up, it is also using Avro.\n","pageTitle":"Design","metaDescription":"","type":"Documentation","breadcrumbs":"References","root":0,"depth":1}