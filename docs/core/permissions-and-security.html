<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="soft" data-primary-color="#059999" data-link-color="#059999"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-10-16T10:56:32.630711534"><title>Permissions and Security | esthesis CORE - Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"backend-integration","level":0,"title":"Backend integration","anchor":"#backend-integration"},{"id":"frontend-integration","level":0,"title":"Frontend integration","anchor":"#frontend-integration"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Permissions and Security | esthesis CORE - Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="esthesis CORE - Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/permissions-and-security.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Permissions and Security | esthesis CORE - Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/permissions-and-security.html#webpage",
    "url": "writerside-documentation/permissions-and-security.html",
    "name": "Permissions and Security | esthesis CORE - Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "esthesis CORE - Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="permissions-and-security" data-main-title="Permissions and Security" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Developers Guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>esthesis CORE - Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="permissions-and-security" id="permissions-and-security.md">Permissions and Security</h1><p id="-p0goox_3">esthesis CORE secures access to resources via a permissions system. This system is based on the Policies model, which is a set of rules that are evaluated to determine whether a user has access to a resource.</p><p id="-p0goox_4">A policy template contains the following parts:</p><svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="-8 -8 1938.046875 252"  xmlns="http://www.w3.org/2000/svg" width="1938.046875" id="mermaid"><g><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="10" viewBox="0 0 12 20" class="marker flowchart" id="flowchart-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="12" markerWidth="12" markerUnits="userSpaceOnUse" refY="5" refX="0" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart" id="flowchart-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart" id="flowchart-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g id="d" class="cluster default flowchart-label"><rect height="236" width="584" y="0" x="1338.046875" ry="0" rx="0" style=""></rect><g transform="translate(1548.21875, 0)" class="cluster-label"><foreignObject height="18" width="163.65625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Operation identification</span></div></foreignObject></g></g><g id="c" class="cluster default flowchart-label"><rect height="236" width="198.140625" y="0" x="1085.453125" ry="0" rx="0" style=""></rect><g transform="translate(1114.703125, 0)" class="cluster-label"><foreignObject height="18" width="139.640625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Object identification</span></div></foreignObject></g></g><g id="b" class="cluster default flowchart-label"><rect height="236" width="499.765625" y="0" x="531.234375" ry="0" rx="0" style=""></rect><g transform="translate(707.7421875, 0)" class="cluster-label"><foreignObject height="18" width="146.75"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Service identification</span></div></foreignObject></g></g><g id="a" class="cluster default flowchart-label"><rect height="236" width="476.78125" y="0" x="0" ry="0" rx="0" style=""></rect><g transform="translate(217.9375, 0)" class="cluster-label"><foreignObject height="18" width="40.90625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Prefix</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-ern LE-application" id="L-ern-application-0" d="M245.5625,118L250.10026041666666,118C254.63802083333334,118,263.7135416666667,118,272.7890625,118C281.8645833333333,118,290.9401041666667,118,295.4778645833333,118L300.015625,118"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-application LE-module" id="L-application-module-0" d="M451.78125,118L455.9479166666667,118C460.1145833333333,118,468.4479166666667,118,477.15234375,118C485.8567708333333,118,494.9322916666667,118,504.0078125,118C513.0833333333334,118,522.1588541666666,118,530.86328125,118C539.5677083333334,118,547.9010416666666,118,552.0677083333334,118L556.234375,118"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-module LE-service" id="L-module-service-0" d="M809.03125,118L813.5690104166666,118C818.1067708333334,118,827.1822916666666,118,836.2578125,118C845.3333333333334,118,854.4088541666666,118,858.9466145833334,118L863.484375,118"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-service LE-objectID" id="L-service-objectID-0" d="M1006,118L1010.1666666666666,118C1014.3333333333334,118,1022.6666666666666,118,1031.37109375,118C1040.0755208333333,118,1049.1510416666667,118,1058.2265625,118C1067.3020833333333,118,1076.3776041666667,118,1085.08203125,118C1093.7864583333333,118,1102.1197916666667,118,1106.2864583333333,118L1110.453125,118"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-objectID LE-operation" id="L-objectID-operation-0" d="M1258.59375,118L1262.7604166666667,118C1266.9270833333333,118,1275.2604166666667,118,1283.96484375,118C1292.6692708333333,118,1301.7447916666667,118,1310.8203125,118C1319.8958333333333,118,1328.9713541666667,118,1337.67578125,118C1346.3802083333333,118,1354.7135416666667,118,1358.8802083333333,118L1363.046875,118"></path><path marker-end="url(#flowchart-pointEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid flowchart-link LS-operation LE-allowdeny" id="L-operation-allowdeny-0" d="M1678.421875,118L1682.9596354166667,118C1687.4973958333333,118,1696.5729166666667,118,1705.6484375,118C1714.7239583333333,118,1723.7994791666667,118,1728.3372395833333,118L1732.875,118"></path></g><g class="edgeLabels"><g transform="translate(272.7890625, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g><g transform="translate(504.0078125, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g><g transform="translate(836.2578125, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g><g transform="translate(1058.2265625, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g><g transform="translate(1310.8203125, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g><g transform="translate(1705.6484375, 118)" class="edgeLabel"><g transform="translate(-2.2265625, -9)" class="label"><foreignObject height="18" width="4.453125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel">:</span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(1355.546875, 27)" class="root"><g class="clusters"><g id="operation" class="cluster default flowchart-label"><rect height="166" width="315.375" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(130.5546875, 8)" class="cluster-label"><foreignObject height="18" width="70.265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Operation</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-F1 LE-F" id="L-F1-F-0" d="M165.6875,66L165.6875,70.16666666666667C165.6875,74.33333333333333,165.6875,82.66666666666667,165.6875,91C165.6875,99.33333333333333,165.6875,107.66666666666667,165.6875,111.83333333333333L165.6875,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(165.6875, 132.5)" id="flowchart-F-281" class="node default MainElement flowchart-label"><rect height="33" width="81.71875" y="-16.5" x="-40.859375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-33.359375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="66.71875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">operation</span></div></foreignObject></g></g><g transform="translate(165.6875, 49.5)" id="flowchart-F1-282" class="node default default flowchart-label"><rect height="33" width="245.375" y="-16.5" x="-122.6875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-115.1875, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="230.375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">create, read, update, delete, etc.</span></div></foreignObject></g></g></g></g><g transform="translate(1725.375, 27)" class="root"><g class="clusters"><g id="allowdeny" class="cluster default flowchart-label"><rect height="166" width="164.171875" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(46.953125, 8)" class="cluster-label"><foreignObject height="18" width="86.265625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Access type</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-G1 LE-G" id="L-G1-G-0" d="M90.0859375,66L90.0859375,70.16666666666667C90.0859375,74.33333333333333,90.0859375,82.66666666666667,90.0859375,91C90.0859375,99.33333333333333,90.0859375,107.66666666666667,90.0859375,111.83333333333333L90.0859375,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(90.0859375, 132.5)" id="flowchart-G-285" class="node default MainElement flowchart-label"><rect height="33" width="64.796875" y="-16.5" x="-32.3984375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-24.8984375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="49.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">access</span></div></foreignObject></g></g><g transform="translate(90.0859375, 49.5)" id="flowchart-G1-286" class="node default default flowchart-label"><rect height="33" width="94.171875" y="-16.5" x="-47.0859375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-39.5859375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="79.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">allow, deny</span></div></foreignObject></g></g></g></g><g transform="translate(1102.953125, 27)" class="root"><g class="clusters"><g id="objectID" class="cluster default flowchart-label"><rect height="166" width="148.140625" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(26.484375, 8)" class="cluster-label"><foreignObject height="18" width="111.171875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Object identifier</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-E1 LE-E" id="L-E1-E-0" d="M82.0703125,66L82.0703125,70.16666666666667C82.0703125,74.33333333333333,82.0703125,82.66666666666667,82.0703125,91C82.0703125,99.33333333333333,82.0703125,107.66666666666667,82.0703125,111.83333333333333L82.0703125,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(82.0703125, 132.5)" id="flowchart-E-277" class="node default MainElement flowchart-label"><rect height="33" width="78.140625" y="-16.5" x="-39.0703125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-31.5703125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="63.140625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">object ID</span></div></foreignObject></g></g><g transform="translate(82.0703125, 49.5)" id="flowchart-E1-278" class="node default default flowchart-label"><rect height="33" width="72.515625" y="-16.5" x="-36.2578125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-28.7578125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="57.515625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Variable</span></div></foreignObject></g></g></g></g><g transform="translate(548.734375, 27)" class="root"><g class="clusters"><g id="module" class="cluster default flowchart-label"><rect height="166" width="252.796875" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(76.1484375, 8)" class="cluster-label"><foreignObject height="18" width="116.5"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Platform module</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-C1 LE-C" id="L-C1-C-0" d="M134.3984375,66L134.3984375,70.16666666666667C134.3984375,74.33333333333333,134.3984375,82.66666666666667,134.3984375,91C134.3984375,99.33333333333333,134.3984375,107.66666666666667,134.3984375,111.83333333333333L134.3984375,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(134.3984375, 132.5)" id="flowchart-C-269" class="node default MainElement flowchart-label"><rect height="33" width="67.484375" y="-16.5" x="-33.7421875" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-26.2421875, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="52.484375"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">module</span></div></foreignObject></g></g><g transform="translate(134.3984375, 49.5)" id="flowchart-C1-270" class="node default default flowchart-label"><rect height="33" width="182.796875" y="-16.5" x="-91.3984375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-83.8984375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="167.796875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">core, uns, gateway, etc.</span></div></foreignObject></g></g></g></g><g transform="translate(855.984375, 27)" class="root"><g class="clusters"><g id="service" class="cluster default flowchart-label"><rect height="166" width="142.515625" y="8" x="8" ry="0" rx="0" style=""></rect><g transform="translate(30.34375, 8)" class="cluster-label"><foreignObject height="18" width="97.828125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Service name</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-D1 LE-D" id="L-D1-D-0" d="M79.2578125,66L79.2578125,70.16666666666667C79.2578125,74.33333333333333,79.2578125,82.66666666666667,79.2578125,91C79.2578125,99.33333333333333,79.2578125,107.66666666666667,79.2578125,111.83333333333333L79.2578125,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(79.2578125, 132.5)" id="flowchart-D-273" class="node default MainElement flowchart-label"><rect height="33" width="65.6875" y="-16.5" x="-32.84375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-25.34375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="50.6875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">service</span></div></foreignObject></g></g><g transform="translate(79.2578125, 49.5)" id="flowchart-D1-274" class="node default default flowchart-label"><rect height="33" width="72.515625" y="-16.5" x="-36.2578125" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-28.7578125, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="57.515625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Variable</span></div></foreignObject></g></g></g></g><g transform="translate(53.2578125, 27)" class="root"><g class="clusters"><g id="ern" class="cluster default flowchart-label"><rect height="166" width="220.5625" y="8" x="-27.7578125" ry="0" rx="0" style=""></rect><g transform="translate(-27.7578125, 8)" class="cluster-label"><foreignObject height="18" width="220.5625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Resource identification number</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-A1 LE-A" id="L-A1-A-0" d="M82.5234375,66L82.5234375,70.16666666666667C82.5234375,74.33333333333333,82.5234375,82.66666666666667,82.5234375,91C82.5234375,99.33333333333333,82.5234375,107.66666666666667,82.5234375,111.83333333333333L82.5234375,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(82.5234375, 132.5)" id="flowchart-A-261" class="node default MainElement flowchart-label"><rect height="33" width="38.125" y="-16.5" x="-19.0625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-11.5625, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="23.125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">ern</span></div></foreignObject></g></g><g transform="translate(82.5234375, 49.5)" id="flowchart-A1-262" class="node default default flowchart-label"><rect height="33" width="79.046875" y="-16.5" x="-39.5234375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-32.0234375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="64.046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Constant</span></div></foreignObject></g></g></g></g><g transform="translate(293.875, 27)" class="root"><g class="clusters"><g id="application" class="cluster default flowchart-label"><rect height="166" width="151.765625" y="8" x="6.640625" ry="0" rx="0" style=""></rect><g transform="translate(6.640625, 8)" class="cluster-label"><foreignObject height="18" width="151.765625"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">esthesis IOT platform</span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#flowchart-pointEnd)" style="fill:none;stroke-width:2px;stroke-dasharray:3;" class="edge-thickness-normal edge-pattern-dotted flowchart-link LS-B1 LE-B" id="L-B1-B-0" d="M82.5234375,66L82.5234375,70.16666666666667C82.5234375,74.33333333333333,82.5234375,82.66666666666667,82.5234375,91C82.5234375,99.33333333333333,82.5234375,107.66666666666667,82.5234375,111.83333333333333L82.5234375,116"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(82.5234375, 132.5)" id="flowchart-B-265" class="node default MainElement flowchart-label"><rect height="33" width="73.703125" y="-16.5" x="-36.8515625" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-29.3515625, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="58.703125"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">esthesis</span></div></foreignObject></g></g><g transform="translate(82.5234375, 49.5)" id="flowchart-B1-266" class="node default default flowchart-label"><rect height="33" width="79.046875" y="-16.5" x="-39.5234375" ry="0" rx="0" style="" class="basic label-container"></rect><g transform="translate(-32.0234375, -9)" style="" class="label"><rect></rect><foreignObject height="18" width="64.046875"><div style="display: inline-block; white-space: nowrap;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel">Constant</span></div></foreignObject></g></g></g></g></g></g></g></svg><p id="-p0goox_6">An example policy could be:</p><div class="code-block" data-lang="plaintext">
ern:esthesis:core:ca:*:delete:allow
</div><p id="-p0goox_8">The above policy allows the deletion of any resources in the Certificate Authoridy service of the esthesis CORE module.</p><section class="chapter"><h2 id="backend-integration" data-toc="backend-integration">Backend integration</h2><p id="-p0goox_11">You can perform manual security checks using the <code class="code" id="-p0goox_18">isPermitted</code> method in the <code class="code" id="-p0goox_19">SecurityPermissionsService</code> class (or respectively via the <code class="code" id="-p0goox_20">SecurityResource</code> client). There are two variations of this method, one that checks the category and the operation that you want to check, and a similar one that also takes into account a specific resource id. The method returns a boolean value that indicates whether the user has the required permissions or not. For example:</p><div class="code-block" data-lang="java">
if (!securityResource.isPermitted(TAG, Operation.DELETE, id)) {
   throw new QSecurityException(&quot;You are not allowed to delete this tag.&quot;);
} else {
   return super.deleteById(id);
}
</div><p id="-p0goox_13">Manually checking for permissions can be helpful in cases where you need to evaluate a more complex logic than just &quot;can user X perform operation Y&quot;, however, for most other cases it is indeed that simple security check the only thing you need to perform. To facilitate scenarios such as this, we have created the <code class="code" id="-p0goox_21">ErnPermission</code> annotation. For example:</p><div class="code-block" data-lang="java">
@ErnPermission(category = TAG, operation = DELETE)
</div><p id="-p0goox_15"><code class="code" id="-p0goox_22">@ErnPermission</code> provides two additional features you should be aware of:</p><ol class="list _decimal" id="-p0goox_16" type="1"><li class="list__item" id="-p0goox_23"><p><code class="code" id="-p0goox_25">bypassForRoles</code> parameter allows you to define a list of roles that are allowed to bypass the permission check. This is useful for cases where you want to allow certain roles to perform an operation regardless of the permissions, for example, system actions.</p></li><li class="list__item" id="-p0goox_24"><p><code class="code" id="-p0goox_26">checkResourceId</code> parameter allows you to define whether a specific resource check should be performed or skipped. By default, this is set to <code class="code" id="-p0goox_27">true</code>, meaning that the permission check will always try to figure out if you are accessing a specific resource and try to explicitly check permissions for that resource. If you set this to <code class="code" id="-p0goox_28">false</code>, the permission check will only check permissions for the category and operation, without taking into account the resource id. The way in which resource id discovery takes place is by inspecting the first argument of the method annotated with <code class="code" id="-p0goox_29">@ErnPermission</code>. If the argument is of type <code class="code" id="-p0goox_30">String</code>, it will be considered as the resource id; similarly, if the argument is of type <code class="code" id="-p0goox_31">BaseEntity</code>, its <code class="code" id="-p0goox_32">getId()</code> method will be invoked to get the resource id. In case you have a method that e.g. has a single argument of type <code class="code" id="-p0goox_33">String</code> but that argument is not a resource id, you can set the <code class="code" id="-p0goox_34">checkResourceId</code> parameter to <code class="code" id="-p0goox_35">false</code> and the permission check will not try to extract the resource id from the method argument.</p></li></ol><section class="chapter"><h3 id="placement" data-toc="placement">Placement</h3><p id="-p0goox_36">On top of the permission system, all endpoints of the application are secured by OIDC. That effectively means that you need to carefully place security checks and annotations in appropriate places in the code. As a rule of thumb you can go by the following guidelines:</p><ol class="list _decimal" id="-p0goox_37" type="1"><li class="list__item" id="-p0goox_38"><p>If you are working with the implementation of the client of a service, e.g. <code class="code" id="-p0goox_40">TagResourceImpl</code>, annotate all endpoints with <code class="code" id="-p0goox_41">@RolesAllowed</code>. This will ensure that the endpoint is secured by OIDC and that only users with the required roles can access it.</p></li><li class="list__item" id="-p0goox_39"><p>If you are working with the implementation of the service itself, e.g. <code class="code" id="-p0goox_42">TagService</code>, annotate all methods that need to be secured with <code class="code" id="-p0goox_43">@ErnPermission</code>. This will ensure that the method is secured by the permission system and that only users with the required permissions can access it.</p></li></ol></section></section><section class="chapter"><h2 id="frontend-integration" data-toc="frontend-integration">Frontend integration</h2><p id="-p0goox_44">Security and permissions can also be checked on the frontend side allowing to show, hide, or disable certain UI elements based on the user's permissions. Note that frontend permissions checks are only used for UI purposes and should not be used as a security measure; you should always secure your backend endpoints as well as described above.</p><p id="-p0goox_45">The security policies associated with the currently logged-in user are fetched during login and stored in the browser's session storage under the key <code class="code" id="-p0goox_53">X-ESTHESIS-PERMISSIONS</code>. That effectively means that if you change policies for a user, they will need to log out and log back in to see the changes (or just refreshing their browser); backend security checks are automatically updated.</p><p id="-p0goox_46">In your frontend code you do not need to directly access the session storage, as there are helper methods available. Here is how you can check for permissions in your frontend code:</p><ol class="list _decimal" id="-p0goox_47" type="1"><li class="list__item" id="-p0goox_54"><p>Have your Angular component extending the <code class="code" id="-p0goox_56">SecurityBaseComponent</code> class. <code class="code" id="-p0goox_57">SecurityBaseComponent</code> provides several variations of an <code class="code" id="-p0goox_58">isPermitted</code> method that you can use to check for permissions, but also performs automatic permission evaluations exposing the following instance variables: </p><ul class="list _bullet" id="-p0goox_59"><li class="list__item" id="-p0goox_60"><p><code class="code" id="-p0goox_64">allowRead</code>: Indicating whether the user is allowed to read the resource.</p></li><li class="list__item" id="-p0goox_61"><p><code class="code" id="-p0goox_65">allowCreate</code>: Indicating whether the user is allowed to create the resource.</p></li><li class="list__item" id="-p0goox_62"><p><code class="code" id="-p0goox_66">allowWrite</code>: Indicating whether the user is allowed to edit the resource.</p></li><li class="list__item" id="-p0goox_63"><p><code class="code" id="-p0goox_67">allowDelete</code>: Indicating whether the user is allowed to delete the resource.</p></li></ul></li><li class="list__item" id="-p0goox_55"><p>Have your Angular component's constructor call its parent constructor passing the correct category and resource id - if applicable.</p></li></ol><p id="-p0goox_48">Once you have properly initialised your Angular component, you can influence how the UI should be rendered based on the user's permissions. For example:</p><div class="code-block" data-lang="markup">
&lt;button (click)=&quot;delete()&quot;
        *ngIf=&quot;allowDelete &amp;&amp; id !== appConstants.NEW_RECORD_ID&quot;
        class=&quot;btn btn-sm btn-accent&quot;&gt;DELETE
&lt;/button&gt;
</div><p id="-p0goox_50">or</p><div class="code-block" data-lang="markup">
&lt;button (click)=&quot;save()&quot;
        *ngIf=&quot;allowCreate || allowWrite&quot; [disabled]=&quot;form.invalid&quot;
        class=&quot;btn btn-sm btn-primary&quot;&gt;SAVE
&lt;/button&gt;
</div><section class="chapter"><h3 id="hide-or-disable" data-toc="hide-or-disable">Hide or disable?</h3><p id="-p0goox_68">When deciding whether to hide or disable a UI element based on the user's permissions, you should consider the following:</p><ul class="list _bullet" id="-p0goox_69"><li class="list__item" id="-p0goox_70"><p>If the user is not allowed to perform an action, you should hide the UI element. This is because disabling the element can be confusing to the user, as they might not understand why they cannot perform the action.</p></li><li class="list__item" id="-p0goox_71"><p>If the user is allowed to perform an action but the action is currently not available, you should disable the UI element. This is because the user should be able to see that the action is possible, but that they cannot perform it at the moment.</p></li></ul></section></section><div class="last-modified">Last modified: 16 October 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="developing-dataflows.html" class="navigation-links__prev">Developing dataflows</a><a href="cross-service-transactions.html" class="navigation-links__next">Cross-Service transactions</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>