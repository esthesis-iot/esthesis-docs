<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="soft" data-primary-color="#059999" data-link-color="#059999"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-02-13T08:41:42.228027965"><title>Developing backend services | esthesis CORE - Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"new-maven-module","level":0,"title":"New Maven module","anchor":"#new-maven-module"},{"id":"service-startup-script","level":0,"title":"Service startup script","anchor":"#service-startup-script"},{"id":"dev-environment-startup-script","level":0,"title":"Dev environment startup script","anchor":"#dev-environment-startup-script"},{"id":"update-angular-proxy-configuration","level":0,"title":"Update Angular proxy configuration","anchor":"#update-angular-proxy-configuration"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Developing backend services | esthesis CORE - Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="esthesis CORE - Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/developing-backend-services.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Developing backend services | esthesis CORE - Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/developing-backend-services.html#webpage",
    "url": "writerside-documentation/developing-backend-services.html",
    "name": "Developing backend services | esthesis CORE - Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "esthesis CORE - Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="developing-backend-services" data-main-title="Developing backend services" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Developers Guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>esthesis CORE - Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="developing-backend-services" id="developing-backend-services.md">Developing backend services</h1><p id="-4jl22o_3">esthesis CORE backend services provide the backend functionality for the esthesis CORE application. The backend services are developed using the Quarkus framework and follow the concept of microservices. Backend services are defined into their own Maven module, and create a container image that can be deployed to Kubernetes.</p><p id="-4jl22o_4">Creating the business logic implementation of a backend service is a complex task that requires a good understanding of the domain model and the requirements of the service. In addition to the Java source code, the backend services also needs to be properly integrated into the Helm charts.</p><p id="-4jl22o_5">The following sections present the steps required to create a new backend service, and how to integrate it into the esthesis CORE Helm charts.</p><aside class="prompt" data-type="tip" data-title="" id="-4jl22o_6"><p>Before creating a new backend service, it is strongly advised to review how existing services are structured.</p></aside><section class="chapter"><h2 id="new-maven-module" data-toc="new-maven-module">New Maven module</h2><p id="-4jl22o_11">A new backend service is created as a new Maven module. The module should be created in the <code class="code" id="-4jl22o_13">services</code> directory of the <code class="code" id="-4jl22o_14">esthesis-core-backend</code> project. The module should follow the naming convention of <code class="code" id="-4jl22o_15">srv-{service-name}</code>, and consists of an API and an implementation module, following the naming convention of <code class="code" id="-4jl22o_16">srv-{service-name}-client</code> and <code class="code" id="-4jl22o_17">srv-{service-name}-impl</code>, respectively.</p><p id="-4jl22o_12">The parent Maven module, should have as a parent the <code class="code" id="-4jl22o_18">esthesis-core-services</code> module.</p></section><section class="chapter"><h2 id="service-startup-script" data-toc="service-startup-script">Service startup script</h2><p id="-4jl22o_19">All backend services have a shell script, allowing you to start the service in development mode. The script is named <code class="code" id="-4jl22o_22">dev-{service-name}.sh</code> and is located in the root of the service module. This script takes care of setting up the necessary environment for the service to run, and starts the service in development mode.</p><p id="-4jl22o_20">Make sure you configure any environment options related to the new service, and specify unique port numbers for the service to run on.</p><section class="chapter"><h3 id="local-only-configuration" data-toc="local-only-configuration">Local-only configuration</h3><p id="-4jl22o_23">If you need to configure environment variables that are specific to your local development environment, you can create a <code class="code" id="-4jl22o_24">local-env.sh</code> script alongside the <code class="code" id="-4jl22o_25">dev-{service-name}.sh</code> script. This script will be sourced by the <code class="code" id="-4jl22o_26">dev-{service-name}.sh</code> script, and can be used to set environment variables that are specific to your local development environment. The <code class="code" id="-4jl22o_27">local-env.sh</code> script should not be committed to the repository.</p></section></section><section class="chapter"><h2 id="dev-environment-startup-script" data-toc="dev-environment-startup-script">Dev environment startup script</h2><p id="-4jl22o_28">esthesis CORE provides a <code class="code" id="-4jl22o_30">tmux</code> script that allows you to start all backend services in a single terminal window. If you create a new backend service, you need to update the <code class="code" id="-4jl22o_31">tmux-dev.sh</code> script to include the new service. The script is located in the <code class="code" id="-4jl22o_32">_dev</code> directory of the <code class="code" id="-4jl22o_33">esthesis-core-backend</code> project.</p><p id="-4jl22o_29">The new service should be added in the <code class="code" id="-4jl22o_34">services</code> array under <code class="code" id="-4jl22o_35">## Start services</code> section of the script.</p></section><section class="chapter"><h2 id="update-angular-proxy-configuration" data-toc="update-angular-proxy-configuration">Update Angular proxy configuration</h2><p id="-4jl22o_36">The Angular frontend uses a proxy configuration to forward requests to the backend services. If you create a new backend service, you need to update the <code class="code" id="-4jl22o_40">proxy.conf.json</code> file in the <code class="code" id="-4jl22o_41">esthesis-core-ui</code> project to include the new service.</p><p id="-4jl22o_37">[TBC]</p><p id="-4jl22o_38">note: mention dev profiles and how to use dev-.sh scripts</p><p id="-4jl22o_39">note: mention TESTCONTAINERS_RYUK_DISABLED=true</p></section><div class="last-modified">Last modified: 13 February 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="working-with-a-private-container-registry.html" class="navigation-links__prev">Working with a private Container Registry</a><a href="developing-dataflows.html" class="navigation-links__next">Developing dataflows</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>