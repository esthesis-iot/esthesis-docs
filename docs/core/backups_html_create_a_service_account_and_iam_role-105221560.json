{"objectID":"_backups.html#create_a_service_account_and_iam_role_with_eksctl","parent":"_backups.html#backup_with_a_custom_storage_class","pageViews":0,"url":"writerside-documentation/backups.html#create-a-service-account-and-iam-role-with-eksctl","mainTitle":"Backups","product":"","headings":"Backups,Create a service account and IAM role with","content":"To create the IAM role and the Kubernetes service account, run the following commands. These commands also attach the AmazonS3CSIDriverPolicy IAM policy to the role, annotate the Kubernetes service account (s3-csi-controller-sa) with the IAM role\u0027s Amazon Resource Name (ARN), and add the Kubernetes service account name to the trust policy for the IAM role.\nCLUSTER_NAME\u003dmy-cluster\nREGION\u003dregion-code\nROLE_NAME\u003dAmazonEKS_S3_CSI_DriverRole\nPOLICY_ARN\u003dAmazonEKS_S3_CSI_DriverRole_ARN\neksctl create iamserviceaccount \\\n    --name s3-csi-driver-sa \\\n    --namespace kube-system \\\n    --cluster $CLUSTER_NAME \\\n    --attach-policy-arn $POLICY_ARN \\\n    --approve \\\n    --role-name $ROLE_NAME \\\n    --region $REGION \\\n    --role-only\n","pageTitle":"Create a service account and IAM role with","metaDescription":"","type":"Documentation","breadcrumbs":"Installation guide","root":0,"depth":1}