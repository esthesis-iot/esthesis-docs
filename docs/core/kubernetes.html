<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="soft" data-primary-color="#059999" data-link-color="#059999"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-05-06T07:34:07.651510681"><title>Kubernetes | esthesis CORE - Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"requirements","level":0,"title":"Requirements","anchor":"#requirements"},{"id":"configuration-parameters","level":0,"title":"Configuration parameters","anchor":"#configuration-parameters"},{"id":"installation","level":0,"title":"Installation","anchor":"#installation"},{"id":"notes","level":0,"title":"Notes","anchor":"#notes"},{"id":"cert-manager-integration","level":0,"title":"Cert Manager integration","anchor":"#cert-manager-integration"},{"id":"wildcard-certificate-integration","level":0,"title":"Wildcard Certificate integration","anchor":"#wildcard-certificate-integration"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Kubernetes | esthesis CORE - Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="esthesis CORE - Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/kubernetes.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Kubernetes | esthesis CORE - Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/kubernetes.html#webpage",
    "url": "writerside-documentation/kubernetes.html",
    "name": "Kubernetes | esthesis CORE - Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "esthesis CORE - Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="kubernetes" data-main-title="Kubernetes" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Installation guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>esthesis CORE - Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="kubernetes" id="kubernetes.md">Kubernetes</h1><p id="c4lmt3_3">Esthesis CORE can be deployed on Kubernetes using the publicly available Helm charts. The Helm charts are available on the [TBC].</p><p id="c4lmt3_4">Esthesis CORE comes with a variety of different Helm charts. Some of the provided Helm charts pertain to mandatory components, while others are optional. During the installation you can choose which components you want to install by enabling the relevant configuration options. You can also choose to use already existing resources, such as a database or a message broker, instead of the ones provided in the Helm charts.</p><p id="c4lmt3_5">Please note that Helm charts come with reasonable defaults; we strongly advise to review them, so you can customize them to your needs.</p><section class="chapter"><h2 id="requirements" data-toc="requirements">Requirements</h2><ul class="list _bullet" id="c4lmt3_12"><li class="list__item" id="c4lmt3_14"><p>A Kubernetes cluster with a minimum of 3 nodes and support for Load Balancer service types as well as Ingress support (you can, optionally, install an nginx ingress controller using this chart).</p></li><li class="list__item" id="c4lmt3_15"><p><a href="https://helm.sh" id="c4lmt3_16" data-external="true" rel="noopener noreferrer">Helm</a></p></li></ul><aside class="prompt" data-type="tip" data-title="" id="c4lmt3_13"><p>If you are deploying esthesis CORE in a public cloud, make sue you also take into account any specific instructions for the cloud provider you are using.</p></aside></section><section class="chapter"><h2 id="configuration-parameters" data-toc="configuration-parameters">Configuration parameters</h2><p id="c4lmt3_17">The following parameters can be defined from variables contained on vaules.yaml during installation:</p><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="general" data-toc="general">General</h3></div><div class="collapse__content"><dl id="c4lmt3_30" data-style="title-top"><dt id="c4lmt3_31" data-expandable="false"><code class="code" id="c4lmt3_37">timezone</code><br></dt><dd><p id="c4lmt3_36">The container's timezone to set (note, some containers do not respect this setting). <br> Default: <code class="code" id="c4lmt3_40">Europe/Athens</code><br><br></p></dd><dt id="c4lmt3_32" data-expandable="false"><code class="code" id="c4lmt3_45">esthesisLogLevel</code><br></dt><dd><p id="c4lmt3_44">The log level to be used for the esthesis components (i.e. does not affect third-party components installed by the Helm chart). <br> Default: <code class="code" id="c4lmt3_48">WARN</code><br><br></p></dd><dt id="c4lmt3_33" data-expandable="false"><code class="code" id="c4lmt3_53">imagePullSecret</code><br></dt><dd><p id="c4lmt3_52">The name of the Kubernetes Secret to use when pulling container images. <br><br></p></dd><dt id="c4lmt3_34" data-expandable="false"><code class="code" id="c4lmt3_59">ingressClassName</code><br></dt><dd><p id="c4lmt3_58">The name of the ingress class to use for ingress rules. <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="accounts" data-toc="accounts">Accounts</h3></div><div class="collapse__content"><dl id="c4lmt3_63" data-style="title-top"><dt id="c4lmt3_64" data-expandable="false"><code class="code" id="c4lmt3_71">esthesisAdminUsername</code><br></dt><dd><p id="c4lmt3_70">The username of the Esthesis administrator. <br> Default: <code class="code" id="c4lmt3_74">esthesis-admin</code><br><br></p></dd><dt id="c4lmt3_65" data-expandable="false"><code class="code" id="c4lmt3_79">esthesisAdminPassword</code><br></dt><dd><p id="c4lmt3_78">The password for the Esthesis administrator. <br> Default: <code class="code" id="c4lmt3_82">esthesis-admin</code><br><br></p></dd><dt id="c4lmt3_66" data-expandable="false"><code class="code" id="c4lmt3_87">esthesisSystemUsername</code><br></dt><dd><p id="c4lmt3_86">The system-level user for Esthesis services and third-party components. <br> Default: <code class="code" id="c4lmt3_90">esthesis-system</code><br><br></p></dd><dt id="c4lmt3_67" data-expandable="false"><code class="code" id="c4lmt3_95">esthesisSystemPassword</code><br></dt><dd><p id="c4lmt3_94">The password for the system-level user. <br> Default: <code class="code" id="c4lmt3_98">esthesis-system</code><br><br></p></dd><dt id="c4lmt3_68" data-expandable="false"><code class="code" id="c4lmt3_103">esthesisKubernetesServiceCreateRBAC</code><br></dt><dd><p id="c4lmt3_102">Whether to create Kubernetes RBAC resources automatically. <br> Default: <code class="code" id="c4lmt3_106">true</code><br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="keycloak" data-toc="keycloak">Keycloak</h3></div><div class="collapse__content"><dl id="c4lmt3_109" data-style="title-top"><dt id="c4lmt3_110" data-expandable="false"><code class="code" id="c4lmt3_116">keycloak.enabled</code><br></dt><dd><p id="c4lmt3_115">Whether to deploy Keycloak. <br> Default: <code class="code" id="c4lmt3_119">true</code><br><br></p></dd><dt id="c4lmt3_111" data-expandable="false"><code class="code" id="c4lmt3_124">keycloak.ingress.hostname</code><br></dt><dd><p id="c4lmt3_123">The external hostname for Keycloak. <br><br></p></dd><dt id="c4lmt3_112" data-expandable="false"><code class="code" id="c4lmt3_130">keycloak.certManager.clusterIssuer</code><br></dt><dd><p id="c4lmt3_129">Cluster-wide Cert Manager issuer name. Mutually exclusive with <code class="code" id="c4lmt3_132">keycloak.certManager.issuer</code>. <br><br></p></dd><dt id="c4lmt3_113" data-expandable="false"><code class="code" id="c4lmt3_137">keycloak.certManager.issuer</code><br></dt><dd><p id="c4lmt3_136">Namespace-scoped Cert Manager issuer name. Mutually exclusive with <code class="code" id="c4lmt3_139">keycloak.certManager.clusterIssuer</code>. <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="mongodb" data-toc="mongodb">MongoDB</h3></div><div class="collapse__content"><dl id="c4lmt3_142" data-style="title-top"><dt id="c4lmt3_143" data-expandable="false"><code class="code" id="c4lmt3_150">mongodb.enabled</code><br></dt><dd><p id="c4lmt3_149">Whether to deploy MongoDB. <br> Default: <code class="code" id="c4lmt3_153">true</code><br><br></p></dd><dt id="c4lmt3_144" data-expandable="false"><code class="code" id="c4lmt3_158">mongodb.urlCluster</code><br></dt><dd><p id="c4lmt3_157">Internal MongoDB connection URL for Esthesis components. <br> Default: <code class="code" id="c4lmt3_161">mongodb://mongodb:27017</code><br><br></p></dd><dt id="c4lmt3_145" data-expandable="false"><code class="code" id="c4lmt3_166">mongodb.database</code><br></dt><dd><p id="c4lmt3_165">Name of the MongoDB database. <br> Default: <code class="code" id="c4lmt3_169">esthesiscore</code><br><br></p></dd><dt id="c4lmt3_146" data-expandable="false"><code class="code" id="c4lmt3_174">mongodb.username</code><br></dt><dd><p id="c4lmt3_173">MongoDB user (usually inherits from <code class="code" id="c4lmt3_176">esthesisSystemUsername</code>). <br><br></p></dd><dt id="c4lmt3_147" data-expandable="false"><code class="code" id="c4lmt3_181">mongodb.password</code><br></dt><dd><p id="c4lmt3_180">MongoDB password (usually inherits from <code class="code" id="c4lmt3_183">esthesisSystemPassword</code>). <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="mongodb" data-toc="mongodb">MongoDB</h3></div><div class="collapse__content"><dl id="c4lmt3_186" data-style="title-top"><dt id="c4lmt3_187" data-expandable="false"><code class="code" id="c4lmt3_194">mongodb.enabled</code><br></dt><dd><p id="c4lmt3_193">Whether to deploy MongoDB. <br> Default: <code class="code" id="c4lmt3_197">true</code><br><br></p></dd><dt id="c4lmt3_188" data-expandable="false"><code class="code" id="c4lmt3_202">mongodb.urlCluster</code><br></dt><dd><p id="c4lmt3_201">Internal MongoDB connection URL for Esthesis components. <br> Default: <code class="code" id="c4lmt3_205">mongodb://mongodb:27017</code><br><br></p></dd><dt id="c4lmt3_189" data-expandable="false"><code class="code" id="c4lmt3_210">mongodb.database</code><br></dt><dd><p id="c4lmt3_209">Name of the MongoDB database. <br> Default: <code class="code" id="c4lmt3_213">esthesiscore</code><br><br></p></dd><dt id="c4lmt3_190" data-expandable="false"><code class="code" id="c4lmt3_218">mongodb.username</code><br></dt><dd><p id="c4lmt3_217">MongoDB user (usually inherits from <code class="code" id="c4lmt3_220">esthesisSystemUsername</code>). <br><br></p></dd><dt id="c4lmt3_191" data-expandable="false"><code class="code" id="c4lmt3_225">mongodb.password</code><br></dt><dd><p id="c4lmt3_224">MongoDB password (usually inherits from <code class="code" id="c4lmt3_227">esthesisSystemPassword</code>). <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="ingnginx" data-toc="ingnginx">NGINX Ingress</h3></div><div class="collapse__content"><dl id="c4lmt3_230" data-style="title-top"><dt id="c4lmt3_231" data-expandable="false"><code class="code" id="c4lmt3_235">ingressNginx.enabled</code><br></dt><dd><p id="c4lmt3_234">Whether to install the nginx ingress controller. <br> Default: <code class="code" id="c4lmt3_238">false</code><br><br></p></dd><dt id="c4lmt3_232" data-expandable="false"><code class="code" id="c4lmt3_243">ingressNginx.sslCertArn</code><br></dt><dd><p id="c4lmt3_242">ARN of the wildcard certificate to use. <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="ui" data-toc="ui">User Interface</h3></div><div class="collapse__content"><dl id="c4lmt3_247" data-style="title-top"><dt id="c4lmt3_248" data-expandable="false"><code class="code" id="c4lmt3_254">esthesisHostname</code><br></dt><dd><p id="c4lmt3_253">External hostname for Esthesis UI. <br><br></p></dd><dt id="c4lmt3_249" data-expandable="false"><code class="code" id="c4lmt3_260">esthesisUi.logoutUrl</code><br></dt><dd><p id="c4lmt3_259">Path to redirect users to after logout. <br> Default: <code class="code" id="c4lmt3_263">/logout</code><br><br></p></dd><dt id="c4lmt3_250" data-expandable="false"><code class="code" id="c4lmt3_268">esthesisUi.certManager.clusterIssuer</code><br></dt><dd><p id="c4lmt3_267">Cert Manager cluster-wide issuer for UI TLS. <br><br></p></dd><dt id="c4lmt3_251" data-expandable="false"><code class="code" id="c4lmt3_274">esthesisUi.certManager.issuer</code><br></dt><dd><p id="c4lmt3_273">Cert Manager namespace-scoped issuer for UI TLS. <br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="redis" data-toc="redis">Redis</h3></div><div class="collapse__content"><dl id="c4lmt3_278" data-style="title-top"><dt id="c4lmt3_279" data-expandable="false"><code class="code" id="c4lmt3_283">redis.enabled</code><br></dt><dd><p id="c4lmt3_282">Whether to deploy Redis. <br> Default: <code class="code" id="c4lmt3_286">true</code><br><br></p></dd><dt id="c4lmt3_280" data-expandable="false"><code class="code" id="c4lmt3_291">redis.hosts</code><br></dt><dd><p id="c4lmt3_290">List of Redis endpoints. <br> Default: <code class="code" id="c4lmt3_294">redis-master:6379/0</code><br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="mosquitto" data-toc="mosquitto">Mosquitto</h3></div><div class="collapse__content"><dl id="c4lmt3_297" data-style="title-top"><dt id="c4lmt3_298" data-expandable="false"><code class="code" id="c4lmt3_307">mosquitto.enabled</code><br></dt><dd><p id="c4lmt3_306">Whether to deploy Mosquitto. <br> Default: <code class="code" id="c4lmt3_310">true</code><br><br></p></dd><dt id="c4lmt3_299" data-expandable="false"><code class="code" id="c4lmt3_315">mosquitto.mutualTls</code><br></dt><dd><p id="c4lmt3_314">Enable mutual TLS for Mosquitto. <br> Default: <code class="code" id="c4lmt3_318">false</code><br><br></p></dd><dt id="c4lmt3_300" data-expandable="false"><code class="code" id="c4lmt3_323">mosquitto.superuser</code><br></dt><dd><p id="c4lmt3_322">Super-user account (should match certificate CN when TLS is enabled). <br> Default: <code class="code" id="c4lmt3_326">esthesis</code><br><br></p></dd><dt id="c4lmt3_301" data-expandable="false"><code class="code" id="c4lmt3_331">mosquitto.caCert</code><br></dt><dd><p id="c4lmt3_330">Base64-encoded CA certificate. <br><br></p></dd><dt id="c4lmt3_302" data-expandable="false"><code class="code" id="c4lmt3_337">mosquitto.serverCert</code><br></dt><dd><p id="c4lmt3_336">Base64-encoded Mosquitto server certificate. <br><br></p></dd><dt id="c4lmt3_303" data-expandable="false"><code class="code" id="c4lmt3_343">mosquitto.serverKey</code><br></dt><dd><p id="c4lmt3_342">Base64-encoded Mosquitto private key. <br><br></p></dd><dt id="c4lmt3_304" data-expandable="false"><code class="code" id="c4lmt3_349">mosquitto.serviceType</code><br></dt><dd><p id="c4lmt3_348">Kubernetes service type to expose Mosquitto. <br> Default: <code class="code" id="c4lmt3_352">ClusterIP</code><br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="influxdb" data-toc="influxdb">InfluxDB</h3></div><div class="collapse__content"><dl id="c4lmt3_355" data-style="title-top"><dt id="c4lmt3_356" data-expandable="false"><code class="code" id="c4lmt3_360">influxdb.enabled</code><br></dt><dd><p id="c4lmt3_359">Whether to deploy InfluxDB. <br> Default: <code class="code" id="c4lmt3_363">true</code><br><br></p></dd><dt id="c4lmt3_357" data-expandable="false"><code class="code" id="c4lmt3_368">influxdb.size</code><br></dt><dd><p id="c4lmt3_367">Persistent volume size for InfluxDB. <br> Default: <code class="code" id="c4lmt3_371">32Gi</code><br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="kafka" data-toc="kafka">Kafka</h3></div><div class="collapse__content"><dl id="c4lmt3_374" data-style="title-top"><dt id="c4lmt3_375" data-expandable="false"><code class="code" id="c4lmt3_379">kafka.enabled</code><br></dt><dd><p id="c4lmt3_378">Whether to deploy Kafka. <br> Default: <code class="code" id="c4lmt3_382">true</code><br><br></p></dd><dt id="c4lmt3_376" data-expandable="false"><code class="code" id="c4lmt3_387">kafka.bootstrapServers</code><br></dt><dd><p id="c4lmt3_386">List of Kafka bootstrap servers. <br> Default: <code class="code" id="c4lmt3_390">kafka:9092</code><br><br></p></dd></dl></div></div></section><section class="chapter"><div class="collapse"><div class="collapse__title"><h3 id="camunda" data-toc="camunda">Camunda</h3></div><div class="collapse__content"><dl id="c4lmt3_393" data-style="title-top"><dt id="c4lmt3_394" data-expandable="false"><code class="code" id="c4lmt3_398">camunda.enabled</code><br></dt><dd><p id="c4lmt3_397">Whether to deploy Camunda. <br> Default: <code class="code" id="c4lmt3_401">true</code><br><br></p></dd><dt id="c4lmt3_395" data-expandable="false"><code class="code" id="c4lmt3_406">camunda.gatewayUrlCluster</code><br></dt><dd><p id="c4lmt3_405">Internal gateway URL for Camunda Zeebe. <br> Default: <code class="code" id="c4lmt3_409">camunda-zeebe-gateway:26500</code><br><br></p></dd></dl></div></div></section></section><section class="chapter"><h2 id="installation" data-toc="installation">Installation</h2><p id="c4lmt3_412">esthesis CORE comes in two Helm charts, one installing all the required dependencies and another one installing the application components. You can enable/disable which specific dependencies you want to install by setting the corresponding <code class="code" id="c4lmt3_416">charts_enabled.&lt;service&gt;</code> parameter to <code class="code" id="c4lmt3_417">true</code> or <code class="code" id="c4lmt3_418">false</code>. Do note that although the provided dependencies are adequate to have esthesis CORE up and running, you might want to tune their properties or replace them altogether with your own resources to support your specific production use case.</p><section class="chapter"><h3 id="environment-variables" data-toc="environment-variables">Environment variables</h3><p id="c4lmt3_419">The following list is a starting point of variables on vaulues.yaml to set before you proceed on both helm charts with the installation, you need to amend them to match your own environment:</p><section class="chapter"><h4 id="esthesis-core-values-yaml" data-toc="esthesis-core-values-yaml">Esthesis-core values.yaml:</h4><div class="code-block" data-lang="none">
esthesisHostname: esthesis.domain.com
timezone: &quot;Europe/Athens&quot;
esthesisAdminUsername: &quot;esthesis-admin&quot;
esthesisAdminPassword: &quot;esthesis-admin&quot;
esthesisSystemUsername: &quot;esthesis-system&quot;
esthesisSystemPassword: &quot;esthesis-system&quot;
esthesisReportedOidcAuthority: &quot;http://keycloak.&lt;enter_your_namespace_here&gt;.svc.cluster.local/realms/esthesis&quot;
esthesisReportedOidcPostLogoutUrl: &quot;http://esthesis-core.&lt;enter_your_namespace_here&gt;.svc.cluster.local/logout&quot;
oidcAuthServerUrl: &quot;http://keycloak.&lt;enter_your_namespace_here&gt;.svc.cluster.local/realms/esthesis&quot;
oidcClientAuthServerUrl: &quot;http://keycloak.&lt;enter_your_namespace_here&gt;.svc.cluster.local/realms/esthesis&quot;
redisHosts: &quot;redis://redis-headless.&lt;enter_your_namespace_here&gt;.svc.cluster.local:6379&quot;
camundaGatewayUrlCluster: &quot;zeebe-gateway.&lt;enter_your_namespace_here&gt;.svc.cluster.local:26500&quot;
kafkaBootstrapServers: &quot;kafka.&lt;enter_your_namespace_here&gt;.svc.cluster.local:9092&quot;
mongoDbUrlCluster: &quot;mongodb://mongodb-0.mongodb-headless.&lt;enter_your_namespace_here&gt;.svc.cluster.local:27017,mongodb-1.mongodb-headless.&lt;enter_your_namespace_here&gt;.svc.cluster.local:27017&quot;
</div></section><section class="chapter"><h4 id="esthesis-core-deps-values-yaml" data-toc="esthesis-core-deps-values-yaml">Esthesis-core-deps values.yaml:</h4><div class="code-block" data-lang="none">
timezone: &quot;Europe/Athens&quot;
esthesisAdminUsername: &quot;esthesis-admin&quot;
esthesisAdminPassword: &quot;esthesis-admin&quot;
esthesisSystemUsername: &quot;esthesis-system&quot;
esthesisSystemPassword: &quot;esthesis-system&quot;
keycloak.ingress.hostname: &quot;keycloak.esthesis.domain.com&quot;
mosquittoServiceType: &quot;LoadBalancer&quot;
</div></section></section><section class="chapter"><h3 id="supporting-infrastructure" data-toc="supporting-infrastructure">Supporting infrastructure</h3><ul class="list _bullet" id="c4lmt3_424"><li class="list__item" id="c4lmt3_425"><p id="c4lmt3_427">Add the Esthesis Helm repository:</p><div class="code-block" data-lang="bash">
helm repo add esthesis https://esthes.is/helm
helm repo update
</div></li><li class="list__item" id="c4lmt3_426"><p id="c4lmt3_429">Install the supporting dependencies (e.g. Keycloak, MongoDB, Redis, etc.):</p><div class="code-block" data-lang="bash">
helm install esthesis-core-deps esthesis/esthesis-core-deps \
  --namespace &lt;your-namespace&gt; \
  --create-namespace \
  -f values-deps.yaml
</div><p id="c4lmt3_431">Replace <code class="code" id="c4lmt3_432">values-deps.yaml</code> with your customized values file if needed.</p></li></ul></section><section class="chapter"><h3 id="application" data-toc="application">Application</h3><ul class="list _bullet" id="c4lmt3_433"><li class="list__item" id="c4lmt3_434"><p id="c4lmt3_435">Install the main Esthesis CORE application components:</p><div class="code-block" data-lang="bash">
helm install esthesis-core esthesis/esthesis-core \
  --namespace &lt;your-namespace&gt; \
  -f values.yaml
</div><p id="c4lmt3_437">Again, replace <code class="code" id="c4lmt3_438">values.yaml</code> with your specific Helm values file.</p></li></ul></section></section><section class="chapter"><h2 id="notes" data-toc="notes">Notes</h2><ol class="list _decimal" id="c4lmt3_439" type="1"><li class="list__item" id="c4lmt3_440"><p>You need to access the UI via HTTPS, accessing it via HTTP will not work.</p></li><li class="list__item" id="c4lmt3_441"><p>The UI is exposed under the domain you specified in the environmental variable <code class="code" id="c4lmt3_444">esthesisHostname</code>.</p></li><li class="list__item" id="c4lmt3_442"><p>If you are using a self-signed certificate which is not imported into your local system, before trying to log in into the application you need to visit the Keycloak URL first and accept the certificate. Otherwise, the login will fail.</p></li><li class="list__item" id="c4lmt3_443"><p><code class="code" id="c4lmt3_445">esthesis-core-srv-kubernetes</code> needs to be able to list all namespaces as well as schedule pods via deployments, configure HPA, etc. A Service Account <code class="code" id="c4lmt3_446">esthesis-core-srv-kubernetes</code> is automatically created and configured with the necessary permissions. If you do not have the necessary permissions to properly configure this Service Account during the installation of the Helm chart, you can disable the automatic creation of the Service Account by setting the <code class="code" id="c4lmt3_447">esthesisKubernetesServiceCreateRBAC</code> variable from esthesis-core helm chart to <code class="code" id="c4lmt3_448">false</code> and create the Service Account manually. The resources that need to be manually created can be found in <a href="https://github.com/esthesis-iot/esthesis-helm/tree/main/esthesis-core/templates/srv-kubernetes/rbac" id="c4lmt3_449" data-external="true" rel="noopener noreferrer">esthesis-core-srv-kubernetes</a> and need to be available and properly configured before the installation of the Helm chart.</p></li></ol></section><section class="chapter"><h2 id="cert-manager-integration" data-toc="cert-manager-integration">Cert Manager integration</h2><p id="c4lmt3_450">If you have <a href="https://cert-manager.io" id="c4lmt3_455" data-external="true" rel="noopener noreferrer">Cert Manager</a> installed in your cluster, you can use it to automatically generate and renew certificates for esthesis UI and Keycloak. To do so, you need to set the following environmental variables:</p><div class="code-block" data-lang="none">
esthesisUiCertManagerClusterIssuer: &quot;letsencrypt-prod&quot;
</div><p id="c4lmt3_452">If you are using namespace scoped issuers, you can alternatively specify:</p><div class="code-block" data-lang="none">
esthesisUiCertManagerIssuer: &quot;letsencrypt-prod&quot;
</div><p id="c4lmt3_454">Make sure you specify only one of the two variants, otherwise the installation will fail. Do not forget to change <code class="code" id="c4lmt3_456">letsencrypt-prod</code> to the value of your own issuer.</p></section><section class="chapter"><h2 id="wildcard-certificate-integration" data-toc="wildcard-certificate-integration">Wildcard Certificate integration</h2><p id="c4lmt3_457">If you have a wildcard certificate installed on you cluster as a secret for your domain, and you want the included ingress-nginx controller to use it, you will need to set the following environmental variables:</p><div class="code-block" data-lang="none">
ingress-nginx.controller.service.externalIPs: &quot;192.168.1.60&quot;
</div><p id="c4lmt3_459">Do not forget to change <code class="code" id="c4lmt3_460">192.168.1.60</code> to your external load balancer IP and <code class="code" id="c4lmt3_461">wildcard-tls</code> to the name of your secret.</p></section><div class="last-modified">Last modified: 06 May 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="index_md.html" class="navigation-links__prev">Installation guide</a><a href="aws.html" class="navigation-links__next">Amazon Web Services (AWS)</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>