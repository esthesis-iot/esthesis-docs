{"objectID":"_backups.html#creating_an_iam_policy","parent":"_backups.html#backup_with_a_custom_storage_class","pageViews":0,"url":"writerside-documentation/backups.html#creating-an-iam-policy","mainTitle":"Backups","product":"","headings":"Backups,Creating an IAM policy","content":"The mount point for Amazon S3 CSI driver requires Amazon S3 permissions to interact with your file system. This section shows how to create an IAM policy that grants the necessary permissions. The following example policy follows the IAM permission recommendations for mount point. Alternatively, you can use the AWS managed policy AmazonS3FullAccess, but this managed policy grants more permissions than are needed. To create the IAM policy follow these steps:\n2. Open the IAM console at https://console.aws.amazon.com/iam/. 4. In the left navigation pane, choose Policies. 6. On the Policies page, choose Create policy. 8. For Policy editor, choose JSON. 10. Under Policy editor, copy and paste the following: :::info Replace `DOC-EXAMPLE-BUCKET1` with your own Amazon S3 bucket name. :::\n{\n   \"Version\": \"2012-10-17\",\n   \"Statement\": [\n        {\n            \"Sid\": \"MountpointFullBucketAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:ListBucket\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::DOC-EXAMPLE-BUCKET1\"\n            ]\n        },\n        {\n            \"Sid\": \"MountpointFullObjectAccess\",\n            \"Effect\": \"Allow\",\n            \"Action\": [\n                \"s3:GetObject\",\n                \"s3:PutObject\",\n                \"s3:AbortMultipartUpload\",\n                \"s3:DeleteObject\"\n            ],\n            \"Resource\": [\n                \"arn:aws:s3:::DOC-EXAMPLE-BUCKET1/*\"\n            ]\n        }\n   ]\n}\n2. Directory buckets, introduced with the S3 Express One Zone storage class, use a different authentication mechanism from general purpose buckets. Instead of using s3:* actions, you should use the s3express:CreateSession action. For information about directory buckets, see Directory buckets in the Amazon S3 User Guide.\nBelow is an example of least-privilege policy that you would use for a directory bucket.\n{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n        {\n            \"Effect\": \"Allow\",\n            \"Action\": \"s3express:CreateSession\",\n            \"Resource\": \"arn:aws:s3express:`aws-region`:`111122223333`:bucket/`` `DOC-EXAMPLE-BUCKET1`--az_id--x-s3``\"\n        }\n    ]\n}\n4. Choose Next.\n6. On the Review and create page, name your policy. This example walkthrough uses the name AmazonS3CSIDriverPolicy.\n8. Choose Create policy.\n","pageTitle":"Creating an IAM policy","metaDescription":"","type":"Documentation","breadcrumbs":"Installation guide","root":0,"depth":1}