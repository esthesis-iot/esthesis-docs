<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="soft" data-primary-color="#059999" data-link-color="#059999"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2025-02-13T08:41:42.938271584"><title>Examples | esthesis CORE - Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"preparation","level":0,"title":"Preparation","anchor":"#preparation"},{"id":"examples","level":0,"title":"Examples","anchor":"#examples"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Examples | esthesis CORE - Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="esthesis CORE - Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/examples-dt.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Examples | esthesis CORE - Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/examples-dt.html#webpage",
    "url": "writerside-documentation/examples-dt.html",
    "name": "Examples | esthesis CORE - Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "esthesis CORE - Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Examples-DT" data-main-title="Examples" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Digital Twins"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>esthesis CORE - Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Examples-DT" id="Examples-DT.md">Examples</h1><p id="-6gkqyd_3">In this section you can find examples of how to use the esthesis CORE Digital Twin API to interact with Digital Twins.</p><section class="chapter"><h2 id="preparation" data-toc="preparation">Preparation</h2><section class="chapter"><h3 id="prerequisites" data-toc="prerequisites">Prerequisites</h3><p id="-6gkqyd_8">You must meet the following prerequisites to follow the examples below:</p><ol class="list _decimal" id="-6gkqyd_9" type="1"><li class="list__item" id="-6gkqyd_10"><p>You must have created an <code class="code" id="-6gkqyd_14">Application</code> in esthesis CORE. Make the application <code class="code" id="-6gkqyd_15">Active</code> and note down the token assigned to it: </p><figure id="-6gkqyd_16"><img alt="dt-application.png" src="images/dt-application.png" title="dt-application.png" width="1141" height="545"></figure></li><li class="list__item" id="-6gkqyd_11"><p>You must have a shell with the <code class="code" id="-6gkqyd_17">curl</code> command available.</p></li><li class="list__item" id="-6gkqyd_12"><p>You must have at least one device connected to esthesis CORE.</p></li><li class="list__item" id="-6gkqyd_13"><p>Optionally, you may have the <code class="code" id="-6gkqyd_18">jq</code> utility installed to parse JSON responses.</p></li></ol></section><section class="chapter"><h3 id="authentication" data-toc="authentication">Authentication</h3><p id="-6gkqyd_19">Authentication to the Digital Twin API is taking place via a custom HTTP header <code class="code" id="-6gkqyd_21">X-ESTHESIS-DT-APP</code>. You must include this header in every request to the API, with the value being the token of the application you created in esthesis CORE. For example, if your token is <code class="code" id="-6gkqyd_22">abc123</code>, you would include the header as follows:</p><div class="code-block" data-lang="bash">
curl -H &quot;X-ESTHESIS-DT-APP: abc123&quot; https://...
</div></section></section><section class="chapter"><h2 id="examples" data-toc="examples">Examples</h2><p id="-6gkqyd_23">Set the following environment variables, so that you do not have to repeat them in every example. Make sure you replace the values with the actual values from your own esthesis CORE installation:</p><div class="code-block" data-lang="bash">
export ESTHESIS_DT_TOKEN=abc123
export ESTHESIS_CORE_DT_URL=http://my-esthesis-core-url/api/dt
</div><p id="-6gkqyd_25">Do not forget to replace <code class="code" id="-6gkqyd_32">dash-dev-1</code> device hardware ID used in the following examples with an actual hardware ID of a device connected to your esthesis CORE installation.</p><section class="chapter"><h3 id="example-1-ping-a-device-synchronously" data-toc="example-1-ping-a-device-synchronously">Example 1: Ping a device, synchronously</h3><p id="-6gkqyd_33">Request:</p><div class="code-block" data-lang="bash">
curl -s -X POST -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/command/device/dash-dev-1/ping&quot; | jq
</div><p id="-6gkqyd_35">Reply:</p><figure id="-6gkqyd_36"><img alt="dt-example-1.png" src="images/dt-example-1.png" title="dt-example-1.png" width="1081" height="258"></figure></section><section class="chapter"><h3 id="example-2-ping-a-device-asynchronously" data-toc="example-2-ping-a-device-asynchronously">Example 2: Ping a device, asynchronously</h3><p id="-6gkqyd_37">Request:</p><div class="code-block" data-lang="bash">
curl -s -X POST -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/command/device/dash-dev-1/ping?async=true&quot; | jq
</div><p id="-6gkqyd_39">Reply: The reply is empty, as the command was sent asynchronously.</p></section><section class="chapter"><h3 id="example-3-send-a-command-to-a-device-synchronously" data-toc="example-3-send-a-command-to-a-device-synchronously">Example 3: Send a command to a device, synchronously</h3><p id="-6gkqyd_40">Request:</p><div class="code-block" data-lang="bash">
curl -s -X POST -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/command/device/dash-dev-1/execute&quot; --data &quot;uname -a&quot; | jq
</div><p id="-6gkqyd_42">Reply:</p><figure id="-6gkqyd_43"><img alt="dt-example3.png" src="images/dt-example3.png" title="dt-example3.png" width="1086" height="281"></figure></section><section class="chapter"><h3 id="example-4-send-a-command-to-a-device-and-receive-the-reply-asynchronously" data-toc="example-4-send-a-command-to-a-device-and-receive-the-reply-asynchronously">Example 4: Send a command to a device and receive the reply asynchronously</h3><section class="chapter"><h4 id="send-command" data-toc="send-command">Send command</h4><p id="-6gkqyd_46">Request:</p><div class="code-block" data-lang="bash">
curl -i -s -X POST -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/command/device/dash-dev-1/execute?async=true&quot; --data &quot;uname -a&quot;
</div><p id="-6gkqyd_48">Reply:</p><figure id="-6gkqyd_49"><img alt="dt-example4.png" src="images/dt-example4.png" title="dt-example4.png" width="1044" height="182"></figure></section><section class="chapter"><h4 id="get-reply" data-toc="get-reply">Get reply</h4><p id="-6gkqyd_50">Request:</p><p id="-6gkqyd_51">Pass the <code class="code" id="-6gkqyd_55">correlation-id</code> from the previous response to get the reply:</p><div class="code-block" data-lang="bash">
curl -s -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/get/command/67972f23e0babf1c375d6fa2/reply&quot; | jq
</div><p id="-6gkqyd_53">Reply:</p><figure id="-6gkqyd_54"><img alt="dt-example4b.png" src="images/dt-example4b.png" title="dt-example4b.png" width="1132" height="324"></figure></section></section><section class="chapter"><h3 id="example-5-get-all-available-measurements-for-a-category" data-toc="example-5-get-all-available-measurements-for-a-category">Example 5: Get all available measurements for a category</h3><p id="-6gkqyd_56">Request:</p><div class="code-block" data-lang="bash">
curl -w '\n' -s -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/get/dash-dev-1/demo&quot;
</div><p id="-6gkqyd_58">Reply:</p><figure id="-6gkqyd_59"><img alt="dt-example5.png" src="images/dt-example5.png" title="dt-example5.png" width="1090" height="340"></figure></section><section class="chapter"><h3 id="example-6-get-a-specific-measurement-from-a-category" data-toc="example-6-get-a-specific-measurement-from-a-category">Example 6: Get a specific measurement from a category</h3><p id="-6gkqyd_60">Request:</p><div class="code-block" data-lang="bash">
curl -w '\n' -s -H &quot;X-ESTHESIS-DT-APP: $ESTHESIS_DT_TOKEN&quot; \
    &quot;$ESTHESIS_CORE_DT_URL/v1/get/dash-dev-1/demo/cpu_temperature&quot;
</div><p id="-6gkqyd_62">Reply:</p><figure id="-6gkqyd_63"><img alt="dt-example6.png" src="images/dt-example6.png" title="dt-example6.png" width="1094" height="70"></figure></section></section><div class="last-modified">Last modified: 13 February 2025</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="introduction-dt.html" class="navigation-links__prev">Digital Twins</a><a href="introduction-dataflows.html" class="navigation-links__next">Dataflows</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>