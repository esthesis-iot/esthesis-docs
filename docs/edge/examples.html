<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="soft" data-primary-color="#FDAD00" data-link-color="#FDAD00" data-content-max-width="2048"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="built-on" content="2024-11-18T13:22:27.030328716"><title>Examples | esthesis EDGE Documentation</title><script type="application/json" id="virtual-toc-data">[{"id":"standalone-installation","level":0,"title":"Standalone installation","anchor":"#standalone-installation"},{"id":"compose-installation","level":0,"title":"Compose installation","anchor":"#compose-installation"},{"id":"kubernetes-installation","level":0,"title":"Kubernetes installation","anchor":"#kubernetes-installation"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.css" rel="stylesheet"><link rel="icon" type="image/png" sizes="16x16" href="images/logo.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Examples | esthesis EDGE Documentation"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="esthesis EDGE Documentation Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/https://esthes.is/docs/edge/examples.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Examples | esthesis EDGE Documentation"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/https://esthes.is/docs/edge/examples.html#webpage",
    "url": "writerside-documentation/https://esthes.is/docs/edge/examples.html",
    "name": "Examples | esthesis EDGE Documentation",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentationhttps://esthes.is/docs/edge/#website",
    "url": "writerside-documentationhttps://esthes.is/docs/edge/",
    "name": "esthesis EDGE Documentation Help"
}</script><!-- End Schema.org --></head><body data-id="Examples" data-main-title="Examples" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Installation-guide.md|Installation guide"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>esthesis EDGE Documentation  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Examples" id="Examples.md">Examples</h1><p id="v0vqvv_3">Here are some possible examples of setting up esthesis EDGE in different environments. Those examples contain sample values for some of the critical environment variables, and you should replace them with your own values.</p><section class="chapter"><h2 id="standalone-installation" data-toc="standalone-installation">Standalone installation</h2><p id="v0vqvv_7">Start esthesis EDGE as a Docker container, connecting it to an external MariaDB and InfluxDB. Enable Enedis module, and configure local data sync, as well as esthesis CORE data sync and device registration:</p><div class="code-block" data-lang="bash">
docker run -d \
  --pull=always \
  -p 9080:8080 \
  -e QUARKUS_DATASOURCE_JDBC_URL=&quot;jdbc:mariadb://mariadb:3306/esthesis-edge&quot; \
  -e QUARKUS_REST_CLIENT_ESTHESIS_AGENT_SERVICE_CLIENT_URL=&quot;http://esthesis:59070&quot; \
  -e ESTHESIS_EDGE_ADMIN_SECRET=&quot;e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; \
  -e ESTHESIS_EDGE_LOCAL_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_LOCAL_INFLUX_DB_URL=&quot;http://influxdb:8086&quot; \
  -e QUARKUS_REST_CLIENT_ENEDIS_CLIENT_URL=https://gw.ext.prod-sandbox.api.enedis.fr \
  -e ESTHESIS_EDGE_LOCAL_INFLUX_DB_TOKEN=&quot;Bfe-aqkUXEh9owtXKSu1V5zZ4D_1L88kD365dFYrv_trVjjqSoGEqo41j3aXfrflxfibE6PCWILchlqUymrWTw==&quot; \
  -e ESTHESIS_EDGE_CORE_PUSH_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_CORE_PUSH_URL=&quot;ssl://mosquitto:8883&quot; \
  -e ESTHESIS_EDGE_CORE_REGISTRATION_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_ID=&quot;clientId&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_SECRET=&quot;clientSecret&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_ENABLED=&quot;true&quot; \
  -e ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_STATE_CHECKING=&quot;true&quot; \
  -e ESTHESIS_EDGE_CORE_CERT=&quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMxRENDQWJ5Z0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFiTVJrd0Z3WURWUVFEREJCbGMzUm8KWlhOcGN5MWpiM0psTFdOaE1CNFhEVEkwTURZeE9UQTVNRGt4TkZvWERUTTVNVEl6TURJeU1EQXdNRm93R3pFWgpNQmNHQTFVRUF3d1FaWE4wYUdWemFYTXRZMjl5WlMxallUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFOandnNUFqMG9vOWtycDJ0NGdTR2FORFVFbSt6WnkxUytvSlBKYTJMcXN3VU1halFyQlMKVjROY3FsSGVYc3lNcGJKclBZNHlGZGx0WldnUFBTVXgvck1qUmV4ZlBNSVc5cENucFZscEZaNGZqTXhBOWptaAo5MnB1NTZuNEc0M0hiOTQyOHI0bmRsSmNmVDNqRGkwNC9JVFpYNXAyejZQekpMTVhaWVE0d3hlOWdJVm44WHplClhoUXRmV3FuTWNRRGFQek9zUUtrd3RML3Azak13cnZYOURGWjNFMFFQOUpNT2dmdzBhZlB2ZGd0ckkzbStIMWoKY3RHQkZKUWx6ZGdNUlh6M01XQXg0WjVEM3pKUE9ycDQ1SGswL1l3S3V2WlRpTjJsVUZXOTRscVVCTW9lYjdOOAphb3RTbzh5dHR3REtTMzNEcnFQaVhiNWJJcm14VUdYMUlWTUNBd0VBQWFNak1DRXdEd1lEVlIwVEFRSC9CQVV3CkF3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQjJhSnl3MVJQQy8KUllrcEpTaG9JQjZiUFM1aHN4cHRrOExPaFNLQytab294cE5zTU05S1AxVEJrSjY3ZXQvYWs2RXRiMTIxSlNCdQpUVWFCWWVLcm9xMi9LNGI5a1E1ZVJRTGt6SUtrYTY1WkJGR0xuaklSR0pYL255SHJtanNMOUxRUTlXYWdpcDhiCms3VDYyOWhVWkkveVlmRGs4MWtaV0ROaEtwNjdZNEQwL1I0dFZZSTBBdEh3R2tpTEFETTB2M3JPMWt5RjNsYVoKV3VZcG9PVktmQkp5NXhKQmJXVGJVeGR0dU5VY25KeUIrZ054RFV3WnRoL3AxMWJzV2ltT05heFBWZGpFN1RpVgpMUWdwZ0tNeVdCL2hxK3lBQmJ0NkVlSWdvd0gvSVJjS0xiUEswOTd5alp6c25vYzAvdkUyK0o5WTBtOU9BQjlsCkZXdkl0Q1NRQ3hrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==&quot; \
  --name esthesis-edge \
  esthesisiot/esthesis-edge:latest
</div><ul class="list _bullet" id="v0vqvv_9"><li class="list__item" id="v0vqvv_10"><p id="v0vqvv_16"><span class="control" id="v0vqvv_18">Test administration API authentication</span></p><p id="v0vqvv_17"><code class="code" id="v0vqvv_19">curl -v -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:9080/admin/auth</code></p></li><li class="list__item" id="v0vqvv_11"><p id="v0vqvv_20"><span class="control" id="v0vqvv_22">Get registered devices</span></p><p id="v0vqvv_21"><code class="code" id="v0vqvv_23">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:9080/admin/devices</code></p></li><li class="list__item" id="v0vqvv_12"><p id="v0vqvv_24"><span class="control" id="v0vqvv_26">List queued data</span></p><p id="v0vqvv_25"><code class="code" id="v0vqvv_27">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:9080/admin/queue</code></p></li><li class="list__item" id="v0vqvv_13"><p id="v0vqvv_28"><span class="control" id="v0vqvv_30">Open Enedis self-registration page</span></p><p id="v0vqvv_29"><a href="http://localhost:9080/enedis/public/self-registration" id="v0vqvv_31" data-external="true" rel="noopener noreferrer">http://localhost:9080/enedis/public/self-registration</a></p></li><li class="list__item" id="v0vqvv_14"><p id="v0vqvv_32"><span class="control" id="v0vqvv_34">Get Enedis configuration</span></p><p id="v0vqvv_33"><code class="code" id="v0vqvv_35">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:9080/enedis/admin/config</code></p></li><li class="list__item" id="v0vqvv_15"><p id="v0vqvv_36"><span class="control" id="v0vqvv_38">Get Edge configuration</span></p><p id="v0vqvv_37"><code class="code" id="v0vqvv_39">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:9080/admin/config</code></p></li></ul></section><section class="chapter"><h2 id="compose-installation" data-toc="compose-installation">Compose installation</h2><p id="v0vqvv_40">Start esthesis EDGE using Docker Compose, including a MariaDB as well as an InfluxDB databases. Enable Enedis module, and configure local data sync, as well as esthesis CORE data sync and device registration:</p><div class="code-block" data-lang="bash">
oras pull docker.io/esthesisiot/esthesis-edge-docker-compose:latest
</div><div class="code-block" data-lang="bash">
ESTHESIS_EDGE_SERVICE_PORT=10080 \
ESTHESIS_EDGE_INFLUX_DB_SERVICE_PORT=10086 \
QUARKUS_REST_CLIENT_ESTHESIS_AGENT_SERVICE_CLIENT_URL=&quot;http://esthesis:59070&quot; \
ESTHESIS_EDGE_ADMIN_SECRET=&quot;e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; \
ESTHESIS_EDGE_LOCAL_ENABLED=&quot;true&quot; \
QUARKUS_REST_CLIENT_ENEDIS_CLIENT_URL=&quot;https://gw.ext.prod-sandbox.api.enedis.fr&quot; \
ESTHESIS_EDGE_LOCAL_INFLUX_DB_TOKEN=&quot;Bfe-aqkUXEh9owtXKSu1V5zZ4D_1L88kD365dFYrv_trVjjqSoGEqo41j3aXfrflxfibE6PCWILchlqUymrWTw==&quot; \
ESTHESIS_EDGE_CORE_PUSH_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_CORE_PUSH_URL=&quot;ssl://mosquitto:8883&quot; \
ESTHESIS_EDGE_CORE_REGISTRATION_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_ID=&quot;clientId&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_CLIENT_SECRET=&quot;clientSecret&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DC_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DCMP_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_FETCH_TYPES_DP_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_ENABLED=&quot;true&quot; \
ESTHESIS_EDGE_MODULES_ENEDIS_SELF_REGISTRATION_STATE_CHECKING=&quot;true&quot; \
ESTHESIS_EDGE_CORE_CERT=&quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMxRENDQWJ5Z0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFiTVJrd0Z3WURWUVFEREJCbGMzUm8KWlhOcGN5MWpiM0psTFdOaE1CNFhEVEkwTURZeE9UQTVNRGt4TkZvWERUTTVNVEl6TURJeU1EQXdNRm93R3pFWgpNQmNHQTFVRUF3d1FaWE4wYUdWemFYTXRZMjl5WlMxallUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFOandnNUFqMG9vOWtycDJ0NGdTR2FORFVFbSt6WnkxUytvSlBKYTJMcXN3VU1halFyQlMKVjROY3FsSGVYc3lNcGJKclBZNHlGZGx0WldnUFBTVXgvck1qUmV4ZlBNSVc5cENucFZscEZaNGZqTXhBOWptaAo5MnB1NTZuNEc0M0hiOTQyOHI0bmRsSmNmVDNqRGkwNC9JVFpYNXAyejZQekpMTVhaWVE0d3hlOWdJVm44WHplClhoUXRmV3FuTWNRRGFQek9zUUtrd3RML3Azak13cnZYOURGWjNFMFFQOUpNT2dmdzBhZlB2ZGd0ckkzbStIMWoKY3RHQkZKUWx6ZGdNUlh6M01XQXg0WjVEM3pKUE9ycDQ1SGswL1l3S3V2WlRpTjJsVUZXOTRscVVCTW9lYjdOOAphb3RTbzh5dHR3REtTMzNEcnFQaVhiNWJJcm14VUdYMUlWTUNBd0VBQWFNak1DRXdEd1lEVlIwVEFRSC9CQVV3CkF3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQjJhSnl3MVJQQy8KUllrcEpTaG9JQjZiUFM1aHN4cHRrOExPaFNLQytab294cE5zTU05S1AxVEJrSjY3ZXQvYWs2RXRiMTIxSlNCdQpUVWFCWWVLcm9xMi9LNGI5a1E1ZVJRTGt6SUtrYTY1WkJGR0xuaklSR0pYL255SHJtanNMOUxRUTlXYWdpcDhiCms3VDYyOWhVWkkveVlmRGs4MWtaV0ROaEtwNjdZNEQwL1I0dFZZSTBBdEh3R2tpTEFETTB2M3JPMWt5RjNsYVoKV3VZcG9PVktmQkp5NXhKQmJXVGJVeGR0dU5VY25KeUIrZ054RFV3WnRoL3AxMWJzV2ltT05heFBWZGpFN1RpVgpMUWdwZ0tNeVdCL2hxK3lBQmJ0NkVlSWdvd0gvSVJjS0xiUEswOTd5alp6c25vYzAvdkUyK0o5WTBtOU9BQjlsCkZXdkl0Q1NRQ3hrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==&quot; \
docker compose up
</div><ul class="list _bullet" id="v0vqvv_43"><li class="list__item" id="v0vqvv_44"><p id="v0vqvv_50"><span class="control" id="v0vqvv_52">Test administration API authentication</span></p><p id="v0vqvv_51"><code class="code" id="v0vqvv_53">curl -v -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET:e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:10080/admin/auth</code></p></li><li class="list__item" id="v0vqvv_45"><p id="v0vqvv_54"><span class="control" id="v0vqvv_56">Get registered devices</span></p><p id="v0vqvv_55"><code class="code" id="v0vqvv_57">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:10080/admin/devices</code></p></li><li class="list__item" id="v0vqvv_46"><p id="v0vqvv_58"><span class="control" id="v0vqvv_60">List queued data</span></p><p id="v0vqvv_59"><code class="code" id="v0vqvv_61">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:10080/admin/queue</code></p></li><li class="list__item" id="v0vqvv_47"><p id="v0vqvv_62"><span class="control" id="v0vqvv_64">Open Enedis self-registration page</span></p><p id="v0vqvv_63"><a href="http://localhost:8080/enedis/public/self-registration" id="v0vqvv_65" data-external="true" rel="noopener noreferrer">http://localhost:8080/enedis/public/self-registration</a></p></li><li class="list__item" id="v0vqvv_48"><p id="v0vqvv_66"><span class="control" id="v0vqvv_68">Get Enedis configuration</span></p><p id="v0vqvv_67"><code class="code" id="v0vqvv_69">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:10080/enedis/admin/config</code></p></li><li class="list__item" id="v0vqvv_49"><p id="v0vqvv_70"><span class="control" id="v0vqvv_72">Get Edge configuration</span></p><p id="v0vqvv_71"><code class="code" id="v0vqvv_73">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; localhost:10080/admin/config</code></p></li></ul></section><section class="chapter"><h2 id="kubernetes-installation" data-toc="kubernetes-installation">Kubernetes installation</h2><p id="v0vqvv_74">Start esthesis EDGE in Kubernetes, deploying all supporting infrastructure, including MariaDB and InfluxDB. Enable Enedis module, and configure local data sync, as well as esthesis CORE data sync and device registration. The esthesis EDGE service is exposed as a LoadBalancer service:</p><div class="code-block" data-lang="bash">
helm install edge oci://registry-1.docker.io/esthesisiot/esthesis-edge-helm --version 
</div><div class="code-block" data-lang="bash">
helm upgrade --install edge . \
  --set global.esthesisRegistry=&quot;192.168.50.211:5000/esthesis&quot; \
  --set global.timezone=&quot;Europe/Athens&quot; \
  --set quarkus.log.level=&quot;DEBUG&quot; \
  --set quarkus.restClient.esthesisAgentServiceClient.url=&quot;http://192.168.40.236:59070&quot; \
  --set quarkus.restClient.enedisClient.url=&quot;https://gw.ext.prod-sandbox.api.enedis.fr&quot; \
  --set esthesis.edge.adminSecret=&quot;e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; \
  --set esthesis.edge.service.type=&quot;LoadBalancer&quot; \
  --set esthesis.edge.local.enabled=&quot;true&quot; \
  --set esthesis.edge.local.influxDb.token=&quot;fVfC4PNVzPnO_qsYY4X3lsvYmqIZNFHE3kE6fI8hpZqR&quot; \
  --set esthesis.edge.local.influxDb.url=&quot;http://edge-influxdb:8086&quot; \
  --set esthesis.edge.core.push.enabled=&quot;true&quot; \
  --set esthesis.edge.core.push.url=&quot;ssl://mosquitto.esthesis:8883&quot; \
  --set esthesis.edge.core.registration.enabled=&quot;true&quot; \
  --set esthesis.edge.core.registration.secret=&quot;ac50419b2a89c8b6&quot; \
  --set esthesis.edge.core.cert=&quot;LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUMxRENDQWJ5Z0F3SUJBZ0lCQVRBTkJna3Foa2lHOXcwQkFRc0ZBREFiTVJrd0Z3WURWUVFEREJCbGMzUm8KWlhOcGN5MWpiM0psTFdOaE1CNFhEVEkwTURZeE9UQTVNRGt4TkZvWERUTTVNVEl6TURJeU1EQXdNRm93R3pFWgpNQmNHQTFVRUF3d1FaWE4wYUdWemFYTXRZMjl5WlMxallUQ0NBU0l3RFFZSktvWklodmNOQVFFQkJRQURnZ0VQCkFEQ0NBUW9DZ2dFQkFOandnNUFqMG9vOWtycDJ0NGdTR2FORFVFbSt6WnkxUytvSlBKYTJMcXN3VU1halFyQlMKVjROY3FsSGVYc3lNcGJKclBZNHlGZGx0WldnUFBTVXgvck1qUmV4ZlBNSVc5cENucFZscEZaNGZqTXhBOWptaAo5MnB1NTZuNEc0M0hiOTQyOHI0bmRsSmNmVDNqRGkwNC9JVFpYNXAyejZQekpMTVhaWVE0d3hlOWdJVm44WHplClhoUXRmV3FuTWNRRGFQek9zUUtrd3RML3Azak13cnZYOURGWjNFMFFQOUpNT2dmdzBhZlB2ZGd0ckkzbStIMWoKY3RHQkZKUWx6ZGdNUlh6M01XQXg0WjVEM3pKUE9ycDQ1SGswL1l3S3V2WlRpTjJsVUZXOTRscVVCTW9lYjdOOAphb3RTbzh5dHR3REtTMzNEcnFQaVhiNWJJcm14VUdYMUlWTUNBd0VBQWFNak1DRXdEd1lEVlIwVEFRSC9CQVV3CkF3RUIvekFPQmdOVkhROEJBZjhFQkFNQ0FRWXdEUVlKS29aSWh2Y05BUUVMQlFBRGdnRUJBQjJhSnl3MVJQQy8KUllrcEpTaG9JQjZiUFM1aHN4cHRrOExPaFNLQytab294cE5zTU05S1AxVEJrSjY3ZXQvYWs2RXRiMTIxSlNCdQpUVWFCWWVLcm9xMi9LNGI5a1E1ZVJRTGt6SUtrYTY1WkJGR0xuaklSR0pYL255SHJtanNMOUxRUTlXYWdpcDhiCms3VDYyOWhVWkkveVlmRGs4MWtaV0ROaEtwNjdZNEQwL1I0dFZZSTBBdEh3R2tpTEFETTB2M3JPMWt5RjNsYVoKV3VZcG9PVktmQkp5NXhKQmJXVGJVeGR0dU5VY25KeUIrZ054RFV3WnRoL3AxMWJzV2ltT05heFBWZGpFN1RpVgpMUWdwZ0tNeVdCL2hxK3lBQmJ0NkVlSWdvd0gvSVJjS0xiUEswOTd5alp6c25vYzAvdkUyK0o5WTBtOU9BQjlsCkZXdkl0Q1NRQ3hrPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==&quot; \
  --set esthesis.edge.modules.enedis.enabled=&quot;true&quot; \
  --set esthesis.edge.modules.enedis.clientId=&quot;clientId&quot; \
  --set esthesis.edge.modules.enedis.clientSecret=&quot;clientSecret&quot; \
  --set esthesis.edge.modules.enedis.fetchTypes.dc.enabled=&quot;true&quot; \
  --set esthesis.edge.modules.enedis.fetchTypes.dcmp.enabled=&quot;true&quot; \
  --set esthesis.edge.modules.enedis.fetchTypes.dp.enabled=&quot;true&quot; \
  --set esthesis.edge.modules.enedis.selfRegistration.enabled=&quot;true&quot; \
  --set esthesis.edge.modules.enedis.selfRegistration.stateChecking=&quot;false&quot;
</div><ul class="list _bullet" id="v0vqvv_77"><li class="list__item" id="v0vqvv_78"><p id="v0vqvv_85"><span class="control" id="v0vqvv_86">Find service IP address</span> <code class="code" id="v0vqvv_87">EDGE_SRV_IP=$(kubectl get svc esthesis-edge-service -o jsonpath='{.status.loadBalancer.ingress[0].ip}')</code></p></li><li class="list__item" id="v0vqvv_79"><p id="v0vqvv_88"><span class="control" id="v0vqvv_90">Test administration API authentication</span></p><p id="v0vqvv_89"><code class="code" id="v0vqvv_91">curl -v -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; $EDGE_SRV_IP/admin/auth</code></p></li><li class="list__item" id="v0vqvv_80"><p id="v0vqvv_92"><span class="control" id="v0vqvv_94">Get registered devices</span></p><p id="v0vqvv_93"><code class="code" id="v0vqvv_95">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; $EDGE_SRV_IP/admin/devices</code></p></li><li class="list__item" id="v0vqvv_81"><p id="v0vqvv_96"><span class="control" id="v0vqvv_98">List queued data</span></p><p id="v0vqvv_97"><code class="code" id="v0vqvv_99">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; $EDGE_SRV_IP/admin/queue</code></p></li><li class="list__item" id="v0vqvv_82"><p id="v0vqvv_100"><span class="control" id="v0vqvv_102">Open Enedis self-registration page</span></p><ul class="list _bullet" id="v0vqvv_101"><li class="list__item" id="v0vqvv_103"><p>Display the IP of the esthesis EDGE service: <code class="code" id="v0vqvv_105">echo $EDGE_SRV_IP</code></p></li><li class="list__item" id="v0vqvv_104"><p>Use the above IP: <a href="http://{IP}}/enedis/public/self-registration" id="v0vqvv_106" data-external="true" rel="noopener noreferrer">http://{IP}}/enedis/public/self-registration</a></p></li></ul></li><li class="list__item" id="v0vqvv_83"><p id="v0vqvv_107"><span class="control" id="v0vqvv_109">Get Enedis configuration</span></p><p id="v0vqvv_108"><code class="code" id="v0vqvv_110">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; $EDGE_SRV_IP/enedis/admin/config</code></p></li><li class="list__item" id="v0vqvv_84"><p id="v0vqvv_111"><span class="control" id="v0vqvv_113">Get Edge configuration</span></p><p id="v0vqvv_112"><code class="code" id="v0vqvv_114">curl -H &quot;X-ESTHESIS-EDGE-ADMIN-SECRET: e35b9b5d-8831-4466-ac50-419b2a89c8b6&quot; $EDGE_SRV_IP/admin/config</code></p></li></ul></section><div class="last-modified">Last modified: 18 November 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="enedisconfiguration.html" class="navigation-links__prev">Enedis</a><a href="users-guide.html" class="navigation-links__next">Users guide</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b419/app.js"></script></body></html>