<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-3.0.3 plugin-docs plugin-id-default docs-doc-id-installation-guide/Kubernetes">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Kubernetes | esthesis CORE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://esthes.is/docs/3.0.3/installation-guide/Kubernetes"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.0.3"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.0.3"><meta data-rh="true" name="docsearch:version" content="3.0.3"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.0.3"><meta data-rh="true" property="og:title" content="Kubernetes | esthesis CORE"><meta data-rh="true" name="description" content="esthesis CORE can be deployed on Kubernetes using the publicly available Helm charts. The Helm"><meta data-rh="true" property="og:description" content="esthesis CORE can be deployed on Kubernetes using the publicly available Helm charts. The Helm"><link data-rh="true" rel="icon" href="/docs/img/logo.png"><link data-rh="true" rel="canonical" href="https://esthes.is/docs/3.0.3/installation-guide/Kubernetes"><link data-rh="true" rel="alternate" href="https://esthes.is/docs/3.0.3/installation-guide/Kubernetes" hreflang="en"><link data-rh="true" rel="alternate" href="https://esthes.is/docs/3.0.3/installation-guide/Kubernetes" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.12a1bd4a.css">
<link rel="preload" href="/docs/assets/js/runtime~main.5d69aab2.js" as="script">
<link rel="preload" href="/docs/assets/js/main.6e1e3b77.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/logo.png" alt="esthesis" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/logo.png" alt="esthesis" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">esthesis Core</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.3/index">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.3/installation-guide/">Installation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.3/developers-guide/">Developers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.3/contact-support/">Contact</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/3.0.3/index">3.0.3</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/installation-guide/Kubernetes">Next</a></li><li><a class="dropdown__link" href="/docs/installation-guide/Kubernetes">3.0.20</a></li><li><a class="dropdown__link" href="/docs/3.0.19/installation-guide/Kubernetes">3.0.19</a></li><li><a class="dropdown__link" href="/docs/3.0.18/installation-guide/Kubernetes">3.0.18</a></li><li><a class="dropdown__link" href="/docs/3.0.17/installation-guide/Kubernetes">3.0.17</a></li><li><a class="dropdown__link" href="/docs/3.0.16/installation-guide/Kubernetes">3.0.16</a></li><li><a class="dropdown__link" href="/docs/3.0.9/installation-guide/Kubernetes">3.0.9</a></li><li><a class="dropdown__link" href="/docs/3.0.8/installation-guide/Kubernetes">3.0.8</a></li><li><a class="dropdown__link" href="/docs/3.0.7/installation-guide/Kubernetes">3.0.7</a></li><li><a class="dropdown__link" href="/docs/3.0.6/installation-guide/Kubernetes">3.0.6</a></li><li><a class="dropdown__link" href="/docs/3.0.5/installation-guide/Kubernetes">3.0.5</a></li><li><a class="dropdown__link" href="/docs/3.0.4/installation-guide/Kubernetes">3.0.4</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/3.0.3/installation-guide/Kubernetes">3.0.3</a></li><li><a class="dropdown__link" href="/docs/3.0.2/installation-guide/Kubernetes">3.0.2</a></li><li><a class="dropdown__link" href="/docs/3.0.1/installation-guide/Kubernetes">3.0.1</a></li><li><a class="dropdown__link" href="/docs/3.0.0/installation-guide/Kubernetes">3.0.0</a></li></ul></div><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Edge<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gateway<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">UNS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Historian<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/esthesis-iot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.3/index">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/3.0.3/installation-guide/">Installation guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/3.0.3/installation-guide/Kubernetes">Kubernetes</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.3/startup-guide/">Startup guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Startup guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.3/user-guide/">User guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.3/device-agent/">Device Agent</a><button aria-label="Toggle the collapsible sidebar category &#x27;Device Agent&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.3/digital-twins/">Digital Twins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.3/developers-guide/">Developers Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developers Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/3.0.3/References/esthesis-line-protocol">References</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.3/contact-support/">Contact &amp; Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.3/uns-edge-gateway-historian">Edge, Gateway, UNS, Historian</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->esthesis CORE<!-- --> <b>3.0.3</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/installation-guide/Kubernetes">latest version</a></b> (<!-- -->3.0.20<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/3.0.3/installation-guide/"><span itemprop="name">Installation guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Kubernetes</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.0.3</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Kubernetes</h1><p>esthesis CORE can be deployed on Kubernetes using the publicly available Helm charts. The Helm
charts are available on the <!-- -->[TBC]<!-- -->.</p><p>esthesis CORE comes with a variety of different Helm charts. Some of the provided Helm charts
pertain to mandatory components, while others are optional. During the installation you can choose which
components you want to install by enabling the relevant configuration options. You can also choose
to use already existing resources, such as a database or a message broker, instead of the
ones provided in the Helm charts.</p><p>Please note that Helm charts come with reasonable defaults; we strongly advise to
review them, so you can customize them to your needs.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">â€‹</a></h2><ul><li>A Kubernetes cluster with a minimum of 3 nodes and support for Load Balancer service types as well
as Ingress support.</li><li><a href="https://helm.sh" target="_blank" rel="noopener noreferrer">Helm</a></li><li><a href="https://github.com/helmfile/helmfile" target="_blank" rel="noopener noreferrer">Helmfile</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration-parameters">Configuration parameters<a href="#configuration-parameters" class="hash-link" aria-label="Direct link to Configuration parameters" title="Direct link to Configuration parameters">â€‹</a></h2><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>The following parameters can be defined as environmental variables during installation:</summary><div><div class="collapsibleContent_i85q"><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a href="#general" class="hash-link" aria-label="Direct link to General" title="Direct link to General">â€‹</a></h3><p>ðŸ”¹ <code>TIMEZONE</code><br>
The containers timezone to set (note, some containers do not respect this setting).<br>
Default: <code>Europe/Athens</code></p><p>ðŸ”¹ <code>ESTHESIS_LOG_LEVEL</code><br>
The log level to be used for the esthesis components (i.e. does not affect third-party components
installed by the Helm chart).<br>
Default: <code>WARN</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="accounts">Accounts<a href="#accounts" class="hash-link" aria-label="Direct link to Accounts" title="Direct link to Accounts">â€‹</a></h3><p>ðŸ”¹ <code>ESTHESIS_ADMIN_USERNAME</code><br>
The username of the esthesis administrator user. Use this account to connect to esthesis UI after installation is done.<br>
Default: <code>esthesis-admin</code></p><p>ðŸ”¹ <code>ESTHESIS_ADMIN_PASSWORD</code><br>
The password of the esthesis administrator user.<br>
Default: <code>esthesis-admin</code></p><p>ðŸ”¹ <code>ESTHESIS_SYSTEM_USERNAME</code><br>
The username of the esthesis system user. This is the user being used for esthesis inter-component
communication, as well as the default username for all other third-party products installed by the
Helm charts.<br>
Default: <code>esthesis-system</code></p><p>ðŸ”¹ <code>ESTHESIS_SYSTEM_PASSWORD</code><br>
The password of the esthesis system user.<br>
Default: <code>esthesis-system</code></p><p>ðŸ”¹ <code>ESTHESIS_SYSTEM_PASSWORD</code><br>
The password of the esthesis system user.<br>
Default: <code>esthesis-system</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="keycloak">Keycloak<a href="#keycloak" class="hash-link" aria-label="Direct link to Keycloak" title="Direct link to Keycloak">â€‹</a></h3><p>ðŸ”¹ <code>KEYCLOAK_ENABLED</code><br>
Whether Keycloak should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>KEYCLOAK_INGRESS_HOSTNAME</code><br>
The hostname of the ingress rule that will be created for Keycloak\
Default: <code>keycloak.esthesis.local</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mongodb">MongoDB<a href="#mongodb" class="hash-link" aria-label="Direct link to MongoDB" title="Direct link to MongoDB">â€‹</a></h3><p>ðŸ”¹ <code>MONGODB_ENABLED</code><br>
Whether MongoDB should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>MONGODB_URL_CLUSTER</code><br>
The internal URL cluster components should use to connect to MongoDB.<br>
Default: <code>mongodb://mongodb:27017</code></p><p>ðŸ”¹ <code>MONGODB_DATABASE</code><br>
The database name to use.<br>
Default: <code>esthesiscore</code></p><p>ðŸ”¹ <code>MONGODB_USERNAME</code><br>
The username to authenticate with.<br>
Default: As specified in <code>ESTHESIS_SYSTEM_USERNAME</code></p><p>ðŸ”¹ <code>MONGODB_PASSWORD</code><br>
The password to authenticate with.<br>
Default: As specified in <code>ESTHESIS_SYSTEM_PASSWORD</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="apisix">APISIX<a href="#apisix" class="hash-link" aria-label="Direct link to APISIX" title="Direct link to APISIX">â€‹</a></h3><p>ðŸ”¹ <code>APISIX_ENABLED</code><br>
Whether APISIX should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>APISIX_INGRESS_NAMESPACE</code><br>
The namespace to monitor for ingress rules.<br>
Default: (empty, all namespaces are monitored)</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="openid-connect">OpenID Connect<a href="#openid-connect" class="hash-link" aria-label="Direct link to OpenID Connect" title="Direct link to OpenID Connect">â€‹</a></h3><p>ðŸ”¹ <code>OIDC_AUTHORITY_URL_EXTERNAL</code><br>
The URL of the OpenID Connect authority to use for external connections. This URL should be accessible
from the end-user&#x27;s Internet browser using esthesis UI.<br>
Default: <code>https://keycloak.esthesis.local/realms/esthesis</code></p><p>ðŸ”¹ <code>OIDC_AUTHORITY_URL_CLUSTER</code><br>
The URL of the OpenID Connect authority to use for internal connections. This URL should be accessible
from components running inside the Kubernetes cluster.<br>
Default: <code>http://keycloak/realms/esthesis</code></p><p>ðŸ”¹ <code>OIDC_DISCOVERY_URL_CLUSTER</code><br>
The URL of the OpenID Connect discovery endpoint to use for internal connections. This URL should be
accessible from components running inside the Kubernetes cluster.<br>
Default: <code>http://keycloak/realms/esthesis/.well-known/openid-configuration</code></p><p>ðŸ”¹ <code>OIDC_JWT_VERIFY_LOCATION_CLUSTER</code><br>
The URL of the OpenID Connect JWT verification endpoint to use for internal connections. This URL
should be accessible from components running inside the Kubernetes cluster.<br>
Default: <code>http://keycloak/realms/esthesis/protocol/openid-connect/certs</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="esthesis-ui">esthesis UI<a href="#esthesis-ui" class="hash-link" aria-label="Direct link to esthesis UI" title="Direct link to esthesis UI">â€‹</a></h3><p>ðŸ”¹ <code>ESTHESIS_UI_INGRESS_HOSTNAME</code><br>
The hostname of the ingress rule that will be created for esthesis UI.<br>
Default: <code>esthesiscore.esthesis.local</code></p><p>ðŸ”¹ <code>ESTHESIS_UI_LOGOUT_URL</code><br>
The URL to redirect to after logging out from esthesis UI.<br>
Default: <code>/logout</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="redis">Redis<a href="#redis" class="hash-link" aria-label="Direct link to Redis" title="Direct link to Redis">â€‹</a></h3><p>ðŸ”¹ <code>REDIS_ENABLED</code><br>
Whether Redis should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>REDIS_HOSTS</code><br>
The list of Redis hosts to use. This URL should be accessible from components running inside the
Kubernetes cluster.<br>
Default: <code>redis-master:6379/0</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="mosquitto">Mosquitto<a href="#mosquitto" class="hash-link" aria-label="Direct link to Mosquitto" title="Direct link to Mosquitto">â€‹</a></h3><p>ðŸ”¹ <code>MOSQUITTO_ENABLED</code><br>
Whether Mosquitto should be installed by this chart or not.<br>
Default: <code>true</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="influxdb">InfluxDB<a href="#influxdb" class="hash-link" aria-label="Direct link to InfluxDB" title="Direct link to InfluxDB">â€‹</a></h3><p>ðŸ”¹ <code>INFLUXDB_ENABLED</code><br>
Whether InfluxDB should be installed by this chart or not.<br>
Default: <code>true</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="kafka">Kafka<a href="#kafka" class="hash-link" aria-label="Direct link to Kafka" title="Direct link to Kafka">â€‹</a></h3><p>ðŸ”¹ <code>KAFKA_ENABLED</code><br>
Whether Kafka should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>KAFKA_BOOTSTRAP_SERVERS</code><br>
The list of Kafka bootstrap servers to use. This URL should be accessible from components running
inside the Kubernetes cluster.<br>
Default: <code>kafka:9092</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="camunda">Camunda<a href="#camunda" class="hash-link" aria-label="Direct link to Camunda" title="Direct link to Camunda">â€‹</a></h3><p>ðŸ”¹ <code>CAMUNDA_ENABLED</code><br>
Whether Camunda should be installed by this chart or not.<br>
Default: <code>true</code></p><p>ðŸ”¹ <code>CAMUNDA_GATEWAY_URL_CLUSTER</code><br>
The URL of the Camunda gateway to use for internal connections. This URL should be accessible from
components running inside the Kubernetes cluster.<br>
Default: <code>camunda-zeebe-gateway:26500</code></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="microk8s">Microk8s<a href="#microk8s" class="hash-link" aria-label="Direct link to Microk8s" title="Direct link to Microk8s">â€‹</a></h3><p>ðŸ”¹ <code>MK8S_EXPOSE_INGRESS</code><br>
Exposes the default ingress (NGINX) by creating a LoadBalancer type service.<br>
Default: <code>false</code></p><p>ðŸ”¹ <code>MK8S_INGRESS_NAMESPACE</code><br>
The namespace to use for the default ingress (NGINX).<br>
Default: <code>ingress</code></p></div></div></details><h2 class="anchor anchorWithStickyNavbar_LWe7" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">â€‹</a></h2><p>esthesis Core comes in two Helm charts, one installing all the required dependencies and another one
installing the application components. You can enable/disable which specific dependencies you want
to install by setting the corresponding <code>*_ENABLED</code> parameter to <code>true</code> or <code>false</code>. Do note that
although the provided dependencies are adequate to have esthesis Core up and running, you might want to
tune their properties or replace them altogether with your own resources to support your specific
production use case.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="environment-variables">Environment variables<a href="#environment-variables" class="hash-link" aria-label="Direct link to Environment variables" title="Direct link to Environment variables">â€‹</a></h3><p>The following environment variables are used by the Helm charts to configure the installation, you
may change them to suit your needs:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export DOMAIN=esthesis-prod.home.nassosmichas.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export TIMEZONE=Europe/Athens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_ADMIN_USERNAME=admin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_ADMIN_PASSWORD=esthesis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_SYSTEM_USERNAME=system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_SYSTEM_PASSWORD=esthesis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export KEYCLOAK_INGRESS_HOSTNAME=keycloak.$DOMAIN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_UI_INGRESS_HOSTNAME=esthesis-core.$DOMAIN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export ESTHESIS_API_INGRESS_HOSTNAME=esthesis-core.$DOMAIN</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export OIDC_AUTHORITY_URL_EXTERNAL=&quot;https://$KEYCLOAK_INGRESS_HOSTNAME/realms/esthesis&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="supporting-infrastructure">Supporting infrastructure<a href="#supporting-infrastructure" class="hash-link" aria-label="Direct link to Supporting infrastructure" title="Direct link to Supporting infrastructure">â€‹</a></h3><ul><li>Obtain the Helmfile corresponding to the esthesis version you want to install. For example:<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> -qO- https://esthes.is/helm/helmfile-esthesis-core-deps-3.0.0.tgz </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> xvz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Install the Helmfile:<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helmfile </span><span class="token function" style="color:#d73a49">sync</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="application">Application<a href="#application" class="hash-link" aria-label="Direct link to Application" title="Direct link to Application">â€‹</a></h3><ul><li>Obtain the Helmfile corresponding to the esthesis version you want to install. For example:<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> -qO- https://esthes.is/helm/helmfile-esthesis-core-3.0.0.tgz </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">tar</span><span class="token plain"> xvz</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li><li>Install the Helmfile:<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helmfile </span><span class="token function" style="color:#d73a49">sync</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="notes">Notes<a href="#notes" class="hash-link" aria-label="Direct link to Notes" title="Direct link to Notes">â€‹</a></h2><ol><li>You need to access the UI via HTTPS, accessing it via HTTP will not work.</li><li>The UI is exposed under the domain you specified in the environmental variable <code>ESTHESIS_UI_INGRESS_HOSTNAME</code>.</li><li>If you are using a self-signed certificate which is not imported into your local system, before
trying to log in into the application you need to visit the Keycloak URL first and accept the
certificate. Otherwise, the login will fail.</li><li><code>esthesis-core-srv-kubernetes</code> needs to be able to list all namespaces as well as schedule pods
via deployments, configure HPA, etc. A Service Account <code>esthesis-core-srv-kubernetes</code> is automatically
created with no additional permissions other than the ones of the <code>default</code> service account. Depending
on how security is implemented in your Kubernetes cluster, you may need to provide the necessary
roles/permissions to this service account.</li></ol></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/3.0.3/installation-guide/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Installation guide</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/3.0.3/startup-guide/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Startup guide</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#configuration-parameters" class="table-of-contents__link toc-highlight">Configuration parameters</a><ul><li><a href="#general" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#accounts" class="table-of-contents__link toc-highlight">Accounts</a></li><li><a href="#keycloak" class="table-of-contents__link toc-highlight">Keycloak</a></li><li><a href="#mongodb" class="table-of-contents__link toc-highlight">MongoDB</a></li><li><a href="#apisix" class="table-of-contents__link toc-highlight">APISIX</a></li><li><a href="#openid-connect" class="table-of-contents__link toc-highlight">OpenID Connect</a></li><li><a href="#esthesis-ui" class="table-of-contents__link toc-highlight">esthesis UI</a></li><li><a href="#redis" class="table-of-contents__link toc-highlight">Redis</a></li><li><a href="#mosquitto" class="table-of-contents__link toc-highlight">Mosquitto</a></li><li><a href="#influxdb" class="table-of-contents__link toc-highlight">InfluxDB</a></li><li><a href="#kafka" class="table-of-contents__link toc-highlight">Kafka</a></li><li><a href="#camunda" class="table-of-contents__link toc-highlight">Camunda</a></li><li><a href="#microk8s" class="table-of-contents__link toc-highlight">Microk8s</a></li></ul></li><li><a href="#installation" class="table-of-contents__link toc-highlight">Installation</a><ul><li><a href="#environment-variables" class="table-of-contents__link toc-highlight">Environment variables</a></li><li><a href="#supporting-infrastructure" class="table-of-contents__link toc-highlight">Supporting infrastructure</a></li><li><a href="#application" class="table-of-contents__link toc-highlight">Application</a></li></ul></li><li><a href="#notes" class="table-of-contents__link toc-highlight">Notes</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Core</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Edge</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Gateway</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis UNS</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Historian</a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Core</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Edge</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Gateway</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis UNS</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Historian</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.eurodyn.com/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact page</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><a href="https://www.eurodyn.com" target="_blank">European Dynamics</a> &copy; 2024</div></div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.5d69aab2.js"></script>
<script src="/docs/assets/js/main.6e1e3b77.js"></script>
</body>
</html>