<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-3.0.7 plugin-docs plugin-id-default docs-doc-id-developers-guide/Resources vs System Resources">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Resources vs System Resources | esthesis CORE</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://esthes.is/docs/3.0.7/developers-guide/Resources vs System Resources"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.0.7"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.0.7"><meta data-rh="true" name="docsearch:version" content="3.0.7"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.0.7"><meta data-rh="true" property="og:title" content="Resources vs System Resources | esthesis CORE"><meta data-rh="true" name="description" content="This page explains the concept of Resources and System Resources in esthesis."><meta data-rh="true" property="og:description" content="This page explains the concept of Resources and System Resources in esthesis."><link data-rh="true" rel="icon" href="/docs/img/logo.png"><link data-rh="true" rel="canonical" href="https://esthes.is/docs/3.0.7/developers-guide/Resources vs System Resources"><link data-rh="true" rel="alternate" href="https://esthes.is/docs/3.0.7/developers-guide/Resources vs System Resources" hreflang="en"><link data-rh="true" rel="alternate" href="https://esthes.is/docs/3.0.7/developers-guide/Resources vs System Resources" hreflang="x-default"><link rel="stylesheet" href="/docs/assets/css/styles.cc5aaa46.css">
<link rel="preload" href="/docs/assets/js/runtime~main.b0ce7ef4.js" as="script">
<link rel="preload" href="/docs/assets/js/main.9798c763.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="/docs/img/logo.png" alt="esthesis" class="themedImage_ToTc themedImage--light_HNdA"><img src="/docs/img/logo.png" alt="esthesis" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">esthesis Core</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.7/index">Documentation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.7/installation-guide/">Installation</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.7/developers-guide/">Developers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/3.0.7/contact-support/">Contact</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/3.0.7/index">3.0.7</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/developers-guide/Resources vs System Resources">Next</a></li><li><a class="dropdown__link" href="/docs/developers-guide/Resources vs System Resources">3.0.26</a></li><li><a class="dropdown__link" href="/docs/3.0.25/developers-guide/Resources vs System Resources">3.0.25</a></li><li><a class="dropdown__link" href="/docs/3.0.24/developers-guide/Resources vs System Resources">3.0.24</a></li><li><a class="dropdown__link" href="/docs/3.0.23/developers-guide/Resources vs System Resources">3.0.23</a></li><li><a class="dropdown__link" href="/docs/3.0.22/developers-guide/Resources vs System Resources">3.0.22</a></li><li><a class="dropdown__link" href="/docs/3.0.21/developers-guide/Resources vs System Resources">3.0.21</a></li><li><a class="dropdown__link" href="/docs/3.0.20/developers-guide/Resources vs System Resources">3.0.20</a></li><li><a class="dropdown__link" href="/docs/3.0.19/developers-guide/Resources vs System Resources">3.0.19</a></li><li><a class="dropdown__link" href="/docs/3.0.18/developers-guide/Resources vs System Resources">3.0.18</a></li><li><a class="dropdown__link" href="/docs/3.0.17/developers-guide/Resources vs System Resources">3.0.17</a></li><li><a class="dropdown__link" href="/docs/3.0.16/developers-guide/Resources vs System Resources">3.0.16</a></li><li><a class="dropdown__link" href="/docs/3.0.9/developers-guide/Resources vs System Resources">3.0.9</a></li><li><a class="dropdown__link" href="/docs/3.0.8/developers-guide/Resources vs System Resources">3.0.8</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/docs/3.0.7/developers-guide/Resources vs System Resources">3.0.7</a></li><li><a class="dropdown__link" href="/docs/3.0.6/developers-guide/Resources vs System Resources">3.0.6</a></li><li><a class="dropdown__link" href="/docs/3.0.5/developers-guide/Resources vs System Resources">3.0.5</a></li><li><a class="dropdown__link" href="/docs/3.0.4/developers-guide/Resources vs System Resources">3.0.4</a></li><li><a class="dropdown__link" href="/docs/3.0.3/developers-guide/Resources vs System Resources">3.0.3</a></li><li><a class="dropdown__link" href="/docs/3.0.2/developers-guide/Resources vs System Resources">3.0.2</a></li><li><a class="dropdown__link" href="/docs/3.0.1/developers-guide/Resources vs System Resources">3.0.1</a></li><li><a class="dropdown__link" href="/docs/3.0.0/developers-guide/Resources vs System Resources">3.0.0</a></li></ul></div><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Edge<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Gateway<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">UNS<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Historian<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://github.com/esthesis-iot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-3.0.7"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.7/index">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.7/installation-guide/">Installation guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.7/startup-guide/">Startup guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Startup guide&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.7/user-guide/">User guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.7/device-agent/">Device Agent</a><button aria-label="Toggle the collapsible sidebar category &#x27;Device Agent&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.7/digital-twins/">Digital Twins</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/3.0.7/dataflows/">Dataflows</a><button aria-label="Toggle the collapsible sidebar category &#x27;Dataflows&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/3.0.7/developers-guide/">Developers Guide</a><button aria-label="Toggle the collapsible sidebar category &#x27;Developers Guide&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Dev Environment setup">Dev environment setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Working with Helm charts">Working with Helm charts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Working with a private Container Registry">Working with a private Container Registry</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Developing backend services">Developing backend services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Developing dataflows">Developing dataflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Permissions and Security">Permissions and Security</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Cross-Service transactions">Cross-Service transactions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Developing esthesis device agent">Developing esthesis Device Agent</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Inter-service notifications">Inter-service notifications</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Redis cache">Redis cache</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/3.0.7/developers-guide/Resources vs System Resources">Resources vs System Resources</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Auditing">Auditing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Observability">Observability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/Release process">Release process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/3.0.7/developers-guide/FAQ">Frequently Asked Quesstions</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/3.0.7/References/esthesis-line-protocol">References</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.7/contact-support/">Contact &amp; Support</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/3.0.7/uns-edge-gateway-historian">Edge, Gateway, UNS, Historian</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->esthesis CORE<!-- --> <b>3.0.7</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/docs/developers-guide/Resources vs System Resources">latest version</a></b> (<!-- -->3.0.26<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/3.0.7/developers-guide/"><span itemprop="name">Developers Guide</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Resources vs System Resources</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.0.7</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Resources vs System Resources</h1><p>This page explains the concept of Resources and System Resources in esthesis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-module-structure">Service module structure<a href="#service-module-structure" class="hash-link" aria-label="Direct link to Service module structure" title="Direct link to Service module structure">​</a></h2><p>Before we delve into the details, we should first have a basic understanding of the structure of an
esthesis service:</p><ul><li>Client module: The client module defines the client interface of the service. It is the only
module that is exposed to the outside world, and it is the only module that can be
imported by other services.</li><li>Impl module: The impl module provides the implementation of the client module. This module should
never be imported by other services.</li></ul><p>The client module of each service is kind of &quot;special&quot;, as it is annotated with Quarkus&#x27;
<code>@RegisterRestClient</code> annotation. This annotation tells Quarkus to generate a REST client for the
service which can then be injected into other services. This way we get a &quot;free&quot; client for each
service that does not need any additional maintenance as the service evolves.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security">​</a></h2><p>esthesis&#x27; security is based on OIDC. An end-user trying to access an esthesis service needs to
provide a valid access token. This token is then validated by the service against the OIDC provider.
The same applies to service-to-service communication: The source service needs to provide a valid
access token to the target service. This token is then validated by the target service against the
OIDC provider.</p><p>But what happens when a service needs to access another service without having an end-user initiating
the request thus providing an access token? This is where the concept of System Resources comes into
play.</p><p>Effectively, the differentiation of Resources and System Resources is only relevant to the underlying
security mechanism: Resources are services requiring an active end-user (i.e. a valid access token
provided by the user), whereas System Resources are services that do not require an active end-user.
At this point you may be wondering: &quot;...and who provides the access token for System Resources?&quot;.
The following sections provide an overview of how Resources and System Resources are defined and used
in esthesis.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resource">Resource<a href="#resource" class="hash-link" aria-label="Direct link to Resource" title="Direct link to Resource">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source-service">Source service<a href="#source-service" class="hash-link" aria-label="Direct link to Source service" title="Direct link to Source service">​</a></h3><p>As the source service does not know the location of the target service merely by importing the target
service&#x27;s REST client, you need to define the target service&#x27;s location in the source service&#x27;s
<code>application.properties</code> file. Here is an example of how this can be done:</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rest-client:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SettingsResource:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: http://esthesis-core-srv-settings-service:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scope: Singleton</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above snippet defines the URL of the <code>SettingsResource</code> service. You can then inject the
<code>SettingsResource</code> REST client into your source service and use it to communicate with the Settings
service.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target-service">Target service<a href="#target-service" class="hash-link" aria-label="Direct link to Target service" title="Direct link to Target service">​</a></h3><ul><li>Annotate the <code>SettingsResource</code> interface with <code>@RegisterRestClient(configKey = &quot;SettingsResource&quot;)</code>.
It is important to note that the value of the <code>configKey</code> parameter must match the name of the service
in source service&#x27;s <code>application.properties</code> file.</li><li>Annotate the <code>SettingsResource</code> interface with <code>@RegisterProvider(AccessTokenRequestReactiveFilter.class)</code>.
This annotation tells Quarkus to inject the <code>AccessTokenRequestReactiveFilter</code> into the REST client,
which is responsible for propagating the access token provided by the end-user calling the source
service.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="system-resource">System Resource<a href="#system-resource" class="hash-link" aria-label="Direct link to System Resource" title="Direct link to System Resource">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="source-service-1">Source service<a href="#source-service-1" class="hash-link" aria-label="Direct link to Source service" title="Direct link to Source service">​</a></h3><p>Similarly to Resources, you need to define the target service&#x27;s location in the source service&#x27;s
<code>application.properties</code> file. Here is an example of how this can be done:</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rest-client:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    SettingsSystemResource:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        url: http://esthesis-core-srv-settings-service:8080</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        scope: Singleton</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The above snippet defines the URL of the <code>SettingsSystemResource</code> service. You can then inject the
<code>SettingsSystemResource</code> REST client into your source service and use it to communicate with the Settings
service.</p><p>In this case, the source service will act as an OIDC client, therefore it needs to be configured
appropriately to obtain an access token from the OIDC provider. This is done by adding the following
properties to the source service&#x27;s <code>application.properties</code> file:</p><div class="language-properties codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-properties codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">oidc-client:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    client-id: esthesis</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grant:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        type: password</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    grant-options:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        password:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            username: ${OIDC_CLIENT_USERNAME}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            password: ${OIDC_CLIENT_PASSWORD}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>${OIDC_CLIENT_USERNAME}</code> and <code>${OIDC_CLIENT_USERNAME}</code> are environment variables allowing the OIDC
client to authenticate against the OIDC provider using a password grant. For development, you can
set those values to the default values used in esthesis&#x27; default Keycloak esthesis-realm
<code>esthesis-system</code>. In production, those values will be provided by the Kubernetes deployment descriptor
resulting from the esthesis Helm charts. To instruct Helm to inject those values into a deployment, you
need to set the following flags to the <code>deployment.yaml</code> descriptor of the source service:</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">&quot;podOidcClient&quot; true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="target-service-1">Target service<a href="#target-service-1" class="hash-link" aria-label="Direct link to Target service" title="Direct link to Target service">​</a></h3><ul><li>Annotate the <code>SettingsSystemResource</code> interface with <code>@RegisterRestClient(configKey = &quot;SettingsSystemResource&quot;)</code>.
It is important to note that the value of the <code>configKey</code> parameter must match the name of the service
in source service&#x27;s <code>application.properties</code> file.</li><li>Annotate the <code>SettingsResource</code> interface with <code>@RegisterProvider(OidcClientRequestReactiveFilter.class)</code>.
This annotation tells Quarkus to inject the <code>OidcClientRequestReactiveFilter</code> into the REST client,
which is responsible to obtain (e.g. create) a valid access token from the OIDC provider and propagate
it to the target service. Using this annotation the source service acts as an OIDC client obtaining
a new access token for itself which then uses to identifies itself to the target service. In esthesis&#x27;
default Keycloak esthesis-realm, there is a user created especially for this purpose.</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/3.0.7/developers-guide/Redis cache"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Redis cache</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/3.0.7/developers-guide/Testing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#service-module-structure" class="table-of-contents__link toc-highlight">Service module structure</a></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a></li><li><a href="#resource" class="table-of-contents__link toc-highlight">Resource</a><ul><li><a href="#source-service" class="table-of-contents__link toc-highlight">Source service</a></li><li><a href="#target-service" class="table-of-contents__link toc-highlight">Target service</a></li></ul></li><li><a href="#system-resource" class="table-of-contents__link toc-highlight">System Resource</a><ul><li><a href="#source-service-1" class="table-of-contents__link toc-highlight">Source service</a></li><li><a href="#target-service-1" class="table-of-contents__link toc-highlight">Target service</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Products</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Core</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Edge</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Gateway</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis UNS</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Historian</a></li></ul></div><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Core</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Edge</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Gateway</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis UNS</a></li><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis Historian</a></li></ul></div><div class="col footer__col"><div class="footer__title">Tutorials</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://esthes.is" target="_blank" rel="noopener noreferrer" class="footer__link-item">esthesis YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li><li class="footer__item"><a href="https://youtube.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube</a></li></ul></div><div class="col footer__col"><div class="footer__title">Contact</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.eurodyn.com/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact page</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div><a href="https://www.eurodyn.com" target="_blank">European Dynamics</a> &copy; 2024</div></div></div></div></footer></div>
<script src="/docs/assets/js/runtime~main.b0ce7ef4.js"></script>
<script src="/docs/assets/js/main.9798c763.js"></script>
</body>
</html>